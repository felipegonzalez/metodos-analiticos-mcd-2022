<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Pagerank y análisis de redes | Métodos analíticos, ITAM 2022</title>
  <meta name="description" content="Notas para métodos analíticos 2022" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Pagerank y análisis de redes | Métodos analíticos, ITAM 2022" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Notas para métodos analíticos 2022" />
  <meta name="github-repo" content="felipexgonzalez/metodos-analiticos-mcd-2022" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Pagerank y análisis de redes | Métodos analíticos, ITAM 2022" />
  
  <meta name="twitter:description" content="Notas para métodos analíticos 2022" />
  

<meta name="author" content="Felipe González" />


<meta name="date" content="2022-05-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dimensiones-latentes-para-recomendación.html"/>
<link rel="next" href="detección-de-comunidades.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.20/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Métodos Analíticos</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Temario</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#evaluación"><i class="fa fa-check"></i>Evaluación</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introducción</a>
<ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#simlitud-en-dimensión-alta"><i class="fa fa-check"></i>Simlitud en dimensión alta</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#medidas-de-distancia-o-similitud"><i class="fa fa-check"></i>Medidas de distancia o similitud</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#tipos-de-soluciones"><i class="fa fa-check"></i>Tipos de soluciones</a>
<ul>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#proyección-y-búsqueda-de-marginales-interesantes"><i class="fa fa-check"></i>Proyección y búsqueda de marginales interesantes</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#proyecciones-globales"><i class="fa fa-check"></i>Proyecciones globales</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#descripción-de-estructura-local"><i class="fa fa-check"></i>Descripción de estructura local</a></li>
<li class="chapter" data-level="" data-path="intro.html"><a href="intro.html#inmersiones-embeddings"><i class="fa fa-check"></i>Inmersiones (embeddings)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="frecuentes.html"><a href="frecuentes.html"><i class="fa fa-check"></i><b>2</b> Análisis de conjuntos frecuentes</a>
<ul>
<li class="chapter" data-level="2.1" data-path="frecuentes.html"><a href="frecuentes.html#datos-de-canastas"><i class="fa fa-check"></i><b>2.1</b> Datos de canastas</a></li>
<li class="chapter" data-level="2.2" data-path="frecuentes.html"><a href="frecuentes.html#conjuntos-frecuentes"><i class="fa fa-check"></i><b>2.2</b> Conjuntos frecuentes</a></li>
<li class="chapter" data-level="2.3" data-path="frecuentes.html"><a href="frecuentes.html#monotonicidad-de-conjuntos-frecuentes"><i class="fa fa-check"></i><b>2.3</b> Monotonicidad de conjuntos frecuentes</a></li>
<li class="chapter" data-level="2.4" data-path="frecuentes.html"><a href="frecuentes.html#algoritmo-a-priori"><i class="fa fa-check"></i><b>2.4</b> Algoritmo a-priori</a></li>
<li class="chapter" data-level="2.5" data-path="frecuentes.html"><a href="frecuentes.html#modelos-simples-para-análisis-de-canastas"><i class="fa fa-check"></i><b>2.5</b> Modelos simples para análisis de canastas</a>
<ul>
<li class="chapter" data-level="" data-path="frecuentes.html"><a href="frecuentes.html#ejemplo-3"><i class="fa fa-check"></i>Ejemplo</a></li>
<li class="chapter" data-level="" data-path="frecuentes.html"><a href="frecuentes.html#modelo-de-artículos-independientes"><i class="fa fa-check"></i>Modelo de artículos independientes</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="frecuentes.html"><a href="frecuentes.html#soporte-teórico-y-conjuntos-frecuentes"><i class="fa fa-check"></i><b>2.6</b> Soporte teórico y conjuntos frecuentes</a>
<ul>
<li class="chapter" data-level="" data-path="frecuentes.html"><a href="frecuentes.html#ejemplo-4"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="frecuentes.html"><a href="frecuentes.html#reglas-de-asociación"><i class="fa fa-check"></i><b>2.7</b> Reglas de asociación</a>
<ul>
<li class="chapter" data-level="" data-path="frecuentes.html"><a href="frecuentes.html#ejemplo-5"><i class="fa fa-check"></i>Ejemplo</a></li>
<li class="chapter" data-level="" data-path="frecuentes.html"><a href="frecuentes.html#ejemplo-6"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="frecuentes.html"><a href="frecuentes.html#dificultades-en-el-análisis-de-canastas"><i class="fa fa-check"></i><b>2.8</b> Dificultades en el análisis de canastas</a></li>
<li class="chapter" data-level="2.9" data-path="frecuentes.html"><a href="frecuentes.html#otras-medidas-de-calidad-de-reglas"><i class="fa fa-check"></i><b>2.9</b> Otras medidas de calidad de reglas</a>
<ul>
<li class="chapter" data-level="" data-path="frecuentes.html"><a href="frecuentes.html#hyper-lift-bajo-hipótesis-de-independencia"><i class="fa fa-check"></i>Hyper-lift bajo hipótesis de independencia</a></li>
<li class="chapter" data-level="" data-path="frecuentes.html"><a href="frecuentes.html#hyper-lift-para-datos-de-canastas"><i class="fa fa-check"></i>Hyper-lift para datos de canastas</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="frecuentes.html"><a href="frecuentes.html#selección-de-reglas"><i class="fa fa-check"></i><b>2.10</b> Selección de reglas</a>
<ul>
<li class="chapter" data-level="" data-path="frecuentes.html"><a href="frecuentes.html#ejemplo-canastas-grandes"><i class="fa fa-check"></i>Ejemplo: canastas grandes</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="frecuentes.html"><a href="frecuentes.html#búsqueda-de-reglas-especializadas"><i class="fa fa-check"></i><b>2.11</b> Búsqueda de reglas especializadas</a></li>
<li class="chapter" data-level="2.12" data-path="frecuentes.html"><a href="frecuentes.html#visualización-de-asociaciones"><i class="fa fa-check"></i><b>2.12</b> Visualización de asociaciones</a>
<ul>
<li class="chapter" data-level="2.12.1" data-path="frecuentes.html"><a href="frecuentes.html#ejemplo-canastas"><i class="fa fa-check"></i><b>2.12.1</b> Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="frecuentes.html"><a href="frecuentes.html#otras-aplicaciones"><i class="fa fa-check"></i><b>2.13</b> Otras aplicaciones</a></li>
<li class="chapter" data-level="2.14" data-path="frecuentes.html"><a href="frecuentes.html#ejercicios"><i class="fa fa-check"></i><b>2.14</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="similitud.html"><a href="similitud.html"><i class="fa fa-check"></i><b>3</b> Similitud y vecinos cercanos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="similitud.html"><a href="similitud.html#similitud-de-conjuntos"><i class="fa fa-check"></i><b>3.1</b> Similitud de conjuntos</a></li>
<li class="chapter" data-level="3.2" data-path="similitud.html"><a href="similitud.html#representación-de-documentos-como-conjuntos"><i class="fa fa-check"></i><b>3.2</b> Representación de documentos como conjuntos</a></li>
<li class="chapter" data-level="3.3" data-path="similitud.html"><a href="similitud.html#representación-matricial"><i class="fa fa-check"></i><b>3.3</b> Representación matricial</a></li>
<li class="chapter" data-level="3.4" data-path="similitud.html"><a href="similitud.html#minhash-y-reducción-probabilística-de-dimensionalidad"><i class="fa fa-check"></i><b>3.4</b> Minhash y reducción probabilística de dimensionalidad</a></li>
<li class="chapter" data-level="3.5" data-path="similitud.html"><a href="similitud.html#agrupando-textos-de-similitud-alta"><i class="fa fa-check"></i><b>3.5</b> Agrupando textos de similitud alta</a></li>
<li class="chapter" data-level="3.6" data-path="similitud.html"><a href="similitud.html#ejemplo-tweets"><i class="fa fa-check"></i><b>3.6</b> Ejemplo: tweets</a></li>
<li class="chapter" data-level="3.7" data-path="similitud.html"><a href="similitud.html#verificar-si-un-nuevo-elemento-es-duplicado"><i class="fa fa-check"></i><b>3.7</b> Verificar si un nuevo elemento es duplicado</a></li>
<li class="chapter" data-level="3.8" data-path="similitud.html"><a href="similitud.html#controlando-la-sensibilidad-y-umbral-de-similitud"><i class="fa fa-check"></i><b>3.8</b> Controlando la sensibilidad y umbral de similitud</a></li>
<li class="chapter" data-level="3.9" data-path="similitud.html"><a href="similitud.html#distancia-euclideana-y-lsh"><i class="fa fa-check"></i><b>3.9</b> Distancia euclideana y LSH</a></li>
<li class="chapter" data-level="3.10" data-path="similitud.html"><a href="similitud.html#locality-sensitive-hashing-lsh"><i class="fa fa-check"></i><b>3.10</b> Locality Sensitive Hashing (LSH)</a></li>
<li class="chapter" data-level="3.11" data-path="similitud.html"><a href="similitud.html#lsh-para-imágenes"><i class="fa fa-check"></i><b>3.11</b> LSH para imágenes</a></li>
<li class="chapter" data-level="3.12" data-path="similitud.html"><a href="similitud.html#joins-por-similitud"><i class="fa fa-check"></i><b>3.12</b> Joins por similitud</a></li>
<li class="chapter" data-level="3.13" data-path="similitud.html"><a href="similitud.html#ejemplo-entity-matching"><i class="fa fa-check"></i><b>3.13</b> Ejemplo: entity matching</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html"><i class="fa fa-check"></i><b>4</b> DVS y reducción de dimensionalidad</a>
<ul>
<li class="chapter" data-level="4.1" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#descomposición-aditiva-en-matrices-de-rango-1"><i class="fa fa-check"></i><b>4.1</b> Descomposición aditiva en matrices de rango 1</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#matrices-de-rango-1"><i class="fa fa-check"></i><b>4.1.1</b> Matrices de rango 1</a></li>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#ejemplo-una-matriz-de-rango-1-de-preferencias"><i class="fa fa-check"></i>Ejemplo: una matriz de rango 1 de preferencias</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#aproximación-con-matrices-de-rango-1."><i class="fa fa-check"></i><b>4.2</b> Aproximación con matrices de rango 1.</a>
<ul>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#ejemplo-12"><i class="fa fa-check"></i>Ejemplo</a></li>
<li class="chapter" data-level="4.2.1" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#suma-de-matrices-de-rango-1."><i class="fa fa-check"></i><b>4.2.1</b> Suma de matrices de rango 1.</a></li>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#ejemplo-películas"><i class="fa fa-check"></i>Ejemplo: películas</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#aproximación-con-matrices-de-rango-bajo"><i class="fa fa-check"></i><b>4.3</b> Aproximación con matrices de rango bajo</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#discusión-aproximación-de-rango-1."><i class="fa fa-check"></i><b>4.3.1</b> Discusión: aproximación de rango 1.</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#interpetación-de-vectores-singulares"><i class="fa fa-check"></i><b>4.4</b> Interpetación de vectores singulares</a>
<ul>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#ejemplo-14"><i class="fa fa-check"></i>Ejemplo</a></li>
<li class="chapter" data-level="4.4.1" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#discusión-aproximaciones-de-rango-más-alto"><i class="fa fa-check"></i><b>4.4.1</b> Discusión: aproximaciones de rango más alto</a></li>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#ejemplo-15"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#descomposición-en-valores-singulares-svd-o-dvs"><i class="fa fa-check"></i><b>4.5</b> Descomposición en valores singulares (SVD o DVS)</a></li>
<li class="chapter" data-level="4.6" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#más-de-interpretación-geométrica"><i class="fa fa-check"></i><b>4.6</b> Más de interpretación geométrica</a></li>
<li class="chapter" data-level="4.7" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#svd-para-películas-de-netflix"><i class="fa fa-check"></i><b>4.7</b> SVD para películas de netflix</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#calidad-de-representación-de-svd."><i class="fa fa-check"></i><b>4.7.1</b> Calidad de representación de SVD.</a></li>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#ejemplo-16"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#componentes-principales"><i class="fa fa-check"></i><b>4.8</b> Componentes principales</a>
<ul>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#varianza-en-componentes-principales"><i class="fa fa-check"></i>Varianza en componentes principales</a></li>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#centrar-o-no-centrar-por-columna"><i class="fa fa-check"></i>¿Centrar o no centrar por columna?</a></li>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#ejemplo-resultados-similares"><i class="fa fa-check"></i>Ejemplo: resultados similares</a></li>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#ejemplos-donde-es-buena-idea-centrar"><i class="fa fa-check"></i>Ejemplos: donde es buena idea centrar</a></li>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#ejemplo-donde-no-centrar-funciona-bien"><i class="fa fa-check"></i>Ejemplo: donde no centrar funciona bien</a></li>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#otros-tipos-de-centrado"><i class="fa fa-check"></i>Otros tipos de centrado</a></li>
<li class="chapter" data-level="" data-path="dvs-y-reducción-de-dimensionalidad.html"><a href="dvs-y-reducción-de-dimensionalidad.html#reescalando-variables"><i class="fa fa-check"></i>Reescalando variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html"><i class="fa fa-check"></i><b>5</b> Sistemas de recomendación y filtrado colaborativo</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#enfoques-de-recomendación"><i class="fa fa-check"></i><b>5.1</b> Enfoques de recomendación</a></li>
<li class="chapter" data-level="5.2" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#datos"><i class="fa fa-check"></i><b>5.2</b> Datos</a>
<ul>
<li class="chapter" data-level="" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#ejemplo-18"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#modelos-de-referencia-y-evaluación"><i class="fa fa-check"></i><b>5.3</b> Modelos de referencia y evaluación</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#evaluación-de-predicciones"><i class="fa fa-check"></i><b>5.3.1</b> Evaluación de predicciones</a></li>
<li class="chapter" data-level="" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#ejemplo-datos-de-netflix"><i class="fa fa-check"></i>Ejemplo: datos de Netflix</a></li>
<li class="chapter" data-level="5.3.2" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#opcional-efectos-en-análisis-de-heterogeneidad-en-uso-de-escala"><i class="fa fa-check"></i><b>5.3.2</b> (Opcional) Efectos en análisis de heterogeneidad en uso de escala</a></li>
<li class="chapter" data-level="5.3.3" data-path="frecuentes.html"><a href="frecuentes.html#ejemplo"><i class="fa fa-check"></i><b>5.3.3</b> Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#modelo-de-referencia"><i class="fa fa-check"></i><b>5.4</b> Modelo de referencia</a>
<ul>
<li class="chapter" data-level="" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#ejercicio-modelo-de-referencia-para-netflix"><i class="fa fa-check"></i>Ejercicio: modelo de referencia para Netflix</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#filtrado-colaborativo-similitud"><i class="fa fa-check"></i><b>5.5</b> Filtrado colaborativo: similitud</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#simitems"><i class="fa fa-check"></i><b>5.5.1</b> Cálculo de similitud entre usuarios/películas</a></li>
<li class="chapter" data-level="" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#ejemplo-19"><i class="fa fa-check"></i>Ejemplo</a></li>
<li class="chapter" data-level="" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#ejemplo-cómo-se-ven-las-calificaciones-de-películas-similaresno-similares"><i class="fa fa-check"></i>Ejemplo: ¿cómo se ven las calificaciones de películas similares/no similares?</a></li>
<li class="chapter" data-level="" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#ejercicio-4"><i class="fa fa-check"></i>Ejercicio</a></li>
<li class="chapter" data-level="5.5.2" data-path="sistemas-de-recomendación-y-filtrado-colaborativo.html"><a href="sistemas-de-recomendación-y-filtrado-colaborativo.html#implementación"><i class="fa fa-check"></i><b>5.5.2</b> Implementación</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="dimensiones-latentes-para-recomendación.html"><a href="dimensiones-latentes-para-recomendación.html"><i class="fa fa-check"></i><b>6</b> Dimensiones latentes para recomendación</a>
<ul>
<li class="chapter" data-level="6.0.1" data-path="frecuentes.html"><a href="frecuentes.html#ejemplo"><i class="fa fa-check"></i><b>6.0.1</b> Ejemplo: una dimensión latente</a></li>
<li class="chapter" data-level="6.0.2" data-path="frecuentes.html"><a href="frecuentes.html#ejemplo"><i class="fa fa-check"></i><b>6.0.2</b> Ejemplo: dos dimensiones latentes</a></li>
<li class="chapter" data-level="6.0.3" data-path="dimensiones-latentes-para-recomendación.html"><a href="dimensiones-latentes-para-recomendación.html#combinación-con-modelo-base"><i class="fa fa-check"></i><b>6.0.3</b> Combinación con modelo base</a></li>
<li class="chapter" data-level="6.1" data-path="dimensiones-latentes-para-recomendación.html"><a href="dimensiones-latentes-para-recomendación.html#factorización-de-matrices"><i class="fa fa-check"></i><b>6.1</b> Factorización de matrices</a></li>
<li class="chapter" data-level="6.2" data-path="dimensiones-latentes-para-recomendación.html"><a href="dimensiones-latentes-para-recomendación.html#mínimos-cuadrados-alternados"><i class="fa fa-check"></i><b>6.2</b> Mínimos cuadrados alternados</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="dimensiones-latentes-para-recomendación.html"><a href="dimensiones-latentes-para-recomendación.html#mínimos-cuadrados-alternados-con-regularización"><i class="fa fa-check"></i><b>6.2.1</b> Mínimos cuadrados alternados con regularización</a></li>
<li class="chapter" data-level="" data-path="dimensiones-latentes-para-recomendación.html"><a href="dimensiones-latentes-para-recomendación.html#ejercicio-5"><i class="fa fa-check"></i>Ejercicio</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="dimensiones-latentes-para-recomendación.html"><a href="dimensiones-latentes-para-recomendación.html#retroalimentación-implícita"><i class="fa fa-check"></i><b>6.3</b> Retroalimentación implícita</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="dimensiones-latentes-para-recomendación.html"><a href="dimensiones-latentes-para-recomendación.html#ejemplo-20"><i class="fa fa-check"></i><b>6.3.1</b> Ejemplo</a></li>
<li class="chapter" data-level="6.3.2" data-path="dimensiones-latentes-para-recomendación.html"><a href="dimensiones-latentes-para-recomendación.html#ejemplo-21"><i class="fa fa-check"></i><b>6.3.2</b> Ejemplo</a></li>
<li class="chapter" data-level="6.3.3" data-path="dimensiones-latentes-para-recomendación.html"><a href="dimensiones-latentes-para-recomendación.html#evaluación-para-modelos-implícitos"><i class="fa fa-check"></i><b>6.3.3</b> Evaluación para modelos implícitos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html"><i class="fa fa-check"></i><b>7</b> Pagerank y análisis de redes</a>
<ul>
<li class="chapter" data-level="7.1" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#introducción"><i class="fa fa-check"></i><b>7.1</b> Introducción</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#centralidad-en-redes"><i class="fa fa-check"></i><b>7.1.1</b> Centralidad en redes</a></li>
<li class="chapter" data-level="" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#ejemplo-de-moviegalaxies.com-pulp-fiction"><i class="fa fa-check"></i>Ejemplo de Moviegalaxies.com: Pulp Fiction</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#tipos-de-redes-y-su-representación"><i class="fa fa-check"></i><b>7.2</b> Tipos de redes y su representación</a></li>
<li class="chapter" data-level="7.3" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#visualización-de-redes"><i class="fa fa-check"></i><b>7.3</b> Visualización de redes</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#ejercicio-6"><i class="fa fa-check"></i><b>7.3.1</b> Ejercicio</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#medidas-de-centralidad-para-redes"><i class="fa fa-check"></i><b>7.4</b> Medidas de centralidad para redes</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#grado"><i class="fa fa-check"></i><b>7.4.1</b> Grado</a></li>
<li class="chapter" data-level="7.4.2" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#medida-de-centralidad-betweeness-o-intermediación"><i class="fa fa-check"></i><b>7.4.2</b> Medida de centralidad: <em>Betweeness</em> o <em>Intermediación</em></a></li>
<li class="chapter" data-level="7.4.3" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#medida-de-centralidad-cercanía"><i class="fa fa-check"></i><b>7.4.3</b> Medida de centralidad: Cercanía</a></li>
<li class="chapter" data-level="7.4.4" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#centralidad-de-eigenvector"><i class="fa fa-check"></i><b>7.4.4</b> Centralidad de eigenvector</a></li>
<li class="chapter" data-level="" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#matrices-irreducibles-y-gráficas-fuertemente-conexas"><i class="fa fa-check"></i>Matrices irreducibles y gráficas fuertemente conexas</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#gráficas-dirigidas"><i class="fa fa-check"></i><b>7.5</b> Gráficas dirigidas</a>
<ul>
<li><a href="pagerank-y-análisis-de-redes.html#ejemplos-qué-pasa-si-a-es-no-reducible">Ejemplos: ¿qué pasa si <span class="math inline">\(A\)</span> es no reducible?</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#pagerank"><i class="fa fa-check"></i><b>7.6</b> Pagerank</a>
<ul>
<li class="chapter" data-level="" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#ejemplo-24"><i class="fa fa-check"></i>Ejemplo</a></li>
<li class="chapter" data-level="7.6.1" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#la-matriz-m-es-estocástica"><i class="fa fa-check"></i><b>7.6.1</b> La matriz <span class="math inline">\(M\)</span> es estocástica</a></li>
<li class="chapter" data-level="7.6.2" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#primeras-dificultades"><i class="fa fa-check"></i><b>7.6.2</b> Primeras dificultades</a></li>
<li class="chapter" data-level="7.6.3" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#el-proceso-estocástico-cadena-de-markov-asociado-al-pagerank-versión-simple"><i class="fa fa-check"></i><b>7.6.3</b> El proceso estocástico (cadena de Markov) asociado al Pagerank, versión simple</a></li>
<li class="chapter" data-level="7.6.4" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#matriz-de-transición"><i class="fa fa-check"></i><b>7.6.4</b> Matriz de transición</a></li>
<li class="chapter" data-level="7.6.5" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#distribución-de-equilibrio-versión-simple"><i class="fa fa-check"></i><b>7.6.5</b> Distribución de equilibrio (versión simple)</a></li>
<li class="chapter" data-level="7.6.6" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#distribución-de-equilibrio-y-probabilidades-a-largo-plazo"><i class="fa fa-check"></i><b>7.6.6</b> Distribución de equilibrio y probabilidades a largo plazo</a></li>
<li class="chapter" data-level="7.6.7" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#matriz-de-transición-a-k-pasos"><i class="fa fa-check"></i><b>7.6.7</b> Matriz de transición a <span class="math inline">\(k\)</span> pasos</a></li>
<li class="chapter" data-level="7.6.8" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#pagerank-teletransportaciónperturbación-de-la-matriz-m"><i class="fa fa-check"></i><b>7.6.8</b> Pagerank: teletransportación/perturbación de la matriz <span class="math inline">\(M\)</span></a></li>
<li class="chapter" data-level="7.6.9" data-path="pagerank-y-análisis-de-redes.html"><a href="pagerank-y-análisis-de-redes.html#pagerank-para-buscador"><i class="fa fa-check"></i><b>7.6.9</b> Pagerank para buscador</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="detección-de-comunidades.html"><a href="detección-de-comunidades.html"><i class="fa fa-check"></i><b>8</b> Detección de comunidades</a>
<ul>
<li class="chapter" data-level="8.1" data-path="detección-de-comunidades.html"><a href="detección-de-comunidades.html#modularidad"><i class="fa fa-check"></i><b>8.1</b> Modularidad</a></li>
<li class="chapter" data-level="8.2" data-path="detección-de-comunidades.html"><a href="detección-de-comunidades.html#algoritmo-miope-fast-greedy"><i class="fa fa-check"></i><b>8.2</b> Algoritmo miope (fast greedy)</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html"><i class="fa fa-check"></i><b>9</b> Modelos de lenguaje y n-gramas</a>
<ul>
<li class="chapter" data-level="9.1" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#ejemplo-modelo-de-canal-ruidoso"><i class="fa fa-check"></i><b>9.1</b> Ejemplo: Modelo de canal ruidoso</a></li>
<li class="chapter" data-level="9.2" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#corpus-y-vocabulario"><i class="fa fa-check"></i><b>9.2</b> Corpus y vocabulario</a></li>
<li class="chapter" data-level="9.3" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#modelos-de-lenguaje-n-gramas"><i class="fa fa-check"></i><b>9.3</b> Modelos de lenguaje: n-gramas</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#modelo-generativo-de-n-gramas"><i class="fa fa-check"></i><b>9.3.1</b> Modelo generativo de n-gramas</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#modelo-de-n-gramas-usando-conteos"><i class="fa fa-check"></i><b>9.4</b> Modelo de n-gramas usando conteos</a></li>
<li class="chapter" data-level="9.5" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#notas-de-periódico-modelo-de-n-gramas-simples."><i class="fa fa-check"></i><b>9.5</b> Notas de periódico: modelo de n-gramas simples.</a>
<ul>
<li class="chapter" data-level="" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#problema-de-los-ceros"><i class="fa fa-check"></i>Problema de los ceros</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#evaluación-de-modelos"><i class="fa fa-check"></i><b>9.6</b> Evaluación de modelos</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#generación-de-texto"><i class="fa fa-check"></i><b>9.6.1</b> Generación de texto</a></li>
<li class="chapter" data-level="9.6.2" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#evaluación-de-modelos-perplejidad"><i class="fa fa-check"></i><b>9.6.2</b> Evaluación de modelos: perplejidad</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#suavizamiento-de-conteos-otros-métodos"><i class="fa fa-check"></i><b>9.7</b> Suavizamiento de conteos: otros métodos</a>
<ul>
<li class="chapter" data-level="" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#desempeño"><i class="fa fa-check"></i>Desempeño</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="modelos-de-lenguaje-y-n-gramas.html"><a href="modelos-de-lenguaje-y-n-gramas.html#ejemplo-corrector-de-ortografía"><i class="fa fa-check"></i><b>9.8</b> Ejemplo: Corrector de ortografía</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html"><i class="fa fa-check"></i><b>10</b> Representación de palabras y word2vec</a>
<ul>
<li class="chapter" data-level="10.1" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#modelo-de-red-neuronal"><i class="fa fa-check"></i><b>10.1</b> Modelo de red neuronal</a>
<ul>
<li class="chapter" data-level="" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#ejemplo-32"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#representación-de-palabras"><i class="fa fa-check"></i><b>10.2</b> Representación de palabras</a></li>
<li class="chapter" data-level="10.3" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#modelos-de-word2vec"><i class="fa fa-check"></i><b>10.3</b> Modelos de word2vec</a>
<ul>
<li class="chapter" data-level="" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#arquitectura-continuous-bag-of-words"><i class="fa fa-check"></i>Arquitectura continuous bag-of-words</a></li>
<li class="chapter" data-level="" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#arquitectura-skip-grams"><i class="fa fa-check"></i>Arquitectura skip-grams</a></li>
<li class="chapter" data-level="" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#muestreo-negativo"><i class="fa fa-check"></i>Muestreo negativo</a></li>
<li class="chapter" data-level="" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#ejemplo-33"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#esprep"><i class="fa fa-check"></i><b>10.4</b> Espacio de representación de palabras</a>
<ul>
<li class="chapter" data-level="" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#geometría-en-el-espacio-de-representaciones"><i class="fa fa-check"></i>Geometría en el espacio de representaciones</a></li>
<li class="chapter" data-level="" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#geometría-en-el-espacio-de-representaciones-1"><i class="fa fa-check"></i>Geometría en el espacio de representaciones</a></li>
<li class="chapter" data-level="" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#evaluación-de-calidad-de-modelos"><i class="fa fa-check"></i>Evaluación de calidad de modelos</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="representación-de-palabras-y-word2vec.html"><a href="representación-de-palabras-y-word2vec.html#usos-de-representaciones-distribuidas"><i class="fa fa-check"></i><b>10.5</b> Usos de representaciones distribuidas</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referencias</a></li>
<li class="divider"></li>
<li><a href="https://github.com/felipegonzalez/metodos-analiticos-mcd-2022" target="blank">Repositorio de Github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Métodos analíticos, ITAM 2022</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pagerank-y-análisis-de-redes" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Pagerank y análisis de redes</h1>
<div id="introducción" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Introducción</h2>
<p><strong>Pagerank</strong> asigna un número real a cada página de una red (web). Este número es un indicador de su importancia. Las ideas fundamentales son:</p>
<ul>
<li><p>Las páginas de internet forman una red o gráfica, donde los nodos son las páginas y las aristas dirigidas son las ligas de unas páginas a otras.</p></li>
<li><p>La importancia de un página A depende de cuántas otras páginas apuntan a la página A. También depende de qué tan importantes sean las páginas que apuntan a A.</p></li>
<li><p>Cuando hacemos una búsqueda, primero se filtran las páginas que tienen el contenido
de nuestra búsqueda, y después los resultados se ordenan según el pagerank
de estas páginas filtradas.</p></li>
<li><p>¿Qué problema resuelve? En un principio, se usaron métodos como índices y recuperación de documentos usando técnicas como tf-idf. El problema es que es muy fácil que un <em>spammer</em> sesgue los resultados para que sus páginas tengan alto nivel de relevancia en este sentido. Así que la importancia no se juzga sólo con el contenido, sino de los <em>votos</em> de otras páginas importantes. Este es un sistema más difícil de engañar.</p></li>
<li><p>Es crucial usar la importancia de los <em>in-links</em> de una página; si no, sería tambíen fácil crear muchas páginas spam que apunten a otra dada para aumentar
su importancia.</p></li>
</ul>
<p>El <em>Pagerank</em>, más en general, es una medida de <em>centralidad</em> o <em>importancia</em> de los nodos de una red dirigida. Comenzaremos considerando redes más variadas (por ejemplo, redes sociales) y el concepto general de <em>centralidad</em>.</p>
<div id="centralidad-en-redes" class="section level3" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Centralidad en redes</h3>
<p>Consideremos una red de personas, que representamos como una gráfica <span class="math inline">\(G\)</span> no dirigida o dirigida, dependiendo del caso. Las personas son los nodos y sus relaciones se representan con aristas.</p>
<p>Quiséramos construir una medida de importancia o centralidad de una persona dentro de la red. Por ejemplo:</p>
<ul>
<li>Redes sociales de internet: las ligas representan relación de <em>amigos</em>,
o la de <em>seguidor</em>. Importancia: número de amigos o seguidores (grado de entrada o salida).</li>
<li>Redes de citas bibliográficas: las ligas representan quién comparte o usa la información de quién. Importancia: número de citas o usos, ser citado por alguien importante, etc.</li>
<li>Red de empleados de una oficina: las ligas representan interacciones en algún periodo. Importancia: quién puede conectar de manera más inmediata a dos personas.</li>
</ul>
</div>
<div id="ejemplo-de-moviegalaxies.com-pulp-fiction" class="section level3 unnumbered">
<h3>Ejemplo de Moviegalaxies.com: Pulp Fiction</h3>
<p>Dos personajes están ligados si tienen interacciones en la película. El tamaño y color de los nodos dependen de su “centralidad” en la red.</p>
<div class="figure">
<img src="images/pulpfiction.png" alt="" />
<p class="caption">Pulp fiction</p>
</div>
<p>(Gráfica creada con <em>Gephi</em>).</p>
</div>
</div>
<div id="tipos-de-redes-y-su-representación" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Tipos de redes y su representación</h2>
<p>Una red es un conjunto de <em>nodos</em> conectados por algunas <em>aristas</em>.
Las aristas pueden ser</p>
<ul>
<li>Dirigidas: hay un nodo origen y un nodo destino.</li>
<li>No dirigidas: una arista representa una conexión simétrica entre dos nodos.</li>
</ul>
<p>Podemos representar redes de varias maneras. Una primera manera
es con una lista de pares de <em>vértices</em> o <em>nodos</em>
que están conectados por una <em>arista</em>. Por ejemplo, para una red dirigida:</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="pagerank-y-análisis-de-redes.html#cb603-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb603-2"><a href="pagerank-y-análisis-de-redes.html#cb603-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygraph)</span>
<span id="cb603-3"><a href="pagerank-y-análisis-de-redes.html#cb603-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggraph)</span>
<span id="cb603-4"><a href="pagerank-y-análisis-de-redes.html#cb603-4" aria-hidden="true" tabindex="-1"></a>aristas <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">from =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>), </span>
<span id="cb603-5"><a href="pagerank-y-análisis-de-redes.html#cb603-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">to =</span>   <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">3</span>))</span>
<span id="cb603-6"><a href="pagerank-y-análisis-de-redes.html#cb603-6" aria-hidden="true" tabindex="-1"></a>aristas</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##    from    to
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     1     2
## 2     1     3
## 3     1     4
## 4     1     5
## 5     2     3</code></pre>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="pagerank-y-análisis-de-redes.html#cb605-1" aria-hidden="true" tabindex="-1"></a>red_tbl <span class="ot">&lt;-</span> tidygraph<span class="sc">::</span><span class="fu">as_tbl_graph</span>(aristas, <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb605-2"><a href="pagerank-y-análisis-de-redes.html#cb605-2" aria-hidden="true" tabindex="-1"></a>red_tbl</span></code></pre></div>
<pre><code>## # A tbl_graph: 5 nodes and 5 edges
## #
## # A directed acyclic simple graph with 1 component
## #
## # Node Data: 5 × 1 (active)
##   name 
##   &lt;chr&gt;
## 1 1    
## 2 2    
## 3 3    
## 4 4    
## 5 5    
## #
## # Edge Data: 5 × 2
##    from    to
##   &lt;int&gt; &lt;int&gt;
## 1     1     2
## 2     1     3
## 3     1     4
## # … with 2 more rows</code></pre>
<p>Que podemos visualizar como sigue:</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="pagerank-y-análisis-de-redes.html#cb607-1" aria-hidden="true" tabindex="-1"></a>graficar_red_dirigida <span class="ot">&lt;-</span> <span class="cf">function</span>(red_tbl){</span>
<span id="cb607-2"><a href="pagerank-y-análisis-de-redes.html#cb607-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(red_tbl) <span class="sc">+</span> </span>
<span id="cb607-3"><a href="pagerank-y-análisis-de-redes.html#cb607-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_link</span>(<span class="at">arrow =</span> <span class="fu">arrow</span>(), <span class="at">end_cap =</span> <span class="fu">circle</span>(<span class="dv">4</span>, <span class="st">&#39;mm&#39;</span>)) <span class="sc">+</span></span>
<span id="cb607-4"><a href="pagerank-y-análisis-de-redes.html#cb607-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">colour =</span> <span class="st">&#39;salmon&#39;</span>) <span class="sc">+</span></span>
<span id="cb607-5"><a href="pagerank-y-análisis-de-redes.html#cb607-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name)) <span class="sc">+</span></span>
<span id="cb607-6"><a href="pagerank-y-análisis-de-redes.html#cb607-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_graph</span>() <span class="sc">+</span> <span class="fu">coord_fixed</span>()</span>
<span id="cb607-7"><a href="pagerank-y-análisis-de-redes.html#cb607-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb607-8"><a href="pagerank-y-análisis-de-redes.html#cb607-8" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_red_dirigida</span>(red_tbl)</span></code></pre></div>
<pre><code>## Using `sugiyama` as default layout</code></pre>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-3-1.png" width="576" /></p>
<p>También es posible representar una red mediante una <strong>matriz de adyacencia</strong>.</p>
<p>La matriz de adyacencia para una red es la matriz <span class="math inline">\(A\)</span> tal que
<span class="math display">\[A_{ij} = 1\]</span>
si existe una arista de <span class="math inline">\(i\)</span> a <span class="math inline">\(j\)</span>. En el caso no dirigido, <span class="math inline">\(A\)</span> es una
matriz simétrica.</p>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="pagerank-y-análisis-de-redes.html#cb609-1" aria-hidden="true" tabindex="-1"></a>matriz_ad <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red_tbl)</span>
<span id="cb609-2"><a href="pagerank-y-análisis-de-redes.html#cb609-2" aria-hidden="true" tabindex="-1"></a>matriz_ad</span></code></pre></div>
<pre><code>## 5 x 5 sparse Matrix of class &quot;dgCMatrix&quot;
##   1 2 3 4 5
## 1 . 1 1 1 1
## 2 . . 1 . .
## 3 . . . . .
## 4 . . . . .
## 5 . . . . .</code></pre>
<p>Es más conveniente representar estas matrices como matrices ralas,
como veremos más adelante.</p>
<p><strong>Nota de R</strong>: utilizamos el paquete <em>tidygraph</em> y <strong>ggraph</strong> para hacer manipulaciones de gráficas y graficación. Estos paquetes son extensiones
del paquete <em>igraph</em>, que es el que contiene los algoritmos de visualización, procesamiento
y resumen de redes.</p>
</div>
<div id="visualización-de-redes" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> Visualización de redes</h2>
<p>Existen varios algoritmos para visualizar redes que revelan distintos aspectos de su estructura (ver por ejemplo <em>?layout</em> en R, en el paquete <em>igraph</em>).</p>
<p>Por ejemplo, aquí construimos una red aleatoria, y hacemos un <em>layout</em> de
nodos aleatorio:</p>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb611-1"><a href="pagerank-y-análisis-de-redes.html#cb611-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb611-2"><a href="pagerank-y-análisis-de-redes.html#cb611-2" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">play_erdos_renyi</span>(<span class="at">n =</span> <span class="dv">20</span>, <span class="at">p =</span> <span class="fl">0.1</span>, <span class="at">directed =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> <span class="fu">as_tbl_graph</span>()</span>
<span id="cb611-3"><a href="pagerank-y-análisis-de-redes.html#cb611-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g, <span class="at">layout =</span> <span class="st">&#39;randomly&#39;</span>) <span class="sc">+</span> <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb611-4"><a href="pagerank-y-análisis-de-redes.html#cb611-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&#39;salmon&#39;</span>) <span class="sc">+</span></span>
<span id="cb611-5"><a href="pagerank-y-análisis-de-redes.html#cb611-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-5-1.png" width="576" /></p>
<p>Y comparamos con la representación producida por un algoritmo basado en fuerzas.</p>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="pagerank-y-análisis-de-redes.html#cb612-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span> <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb612-2"><a href="pagerank-y-análisis-de-redes.html#cb612-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&#39;salmon&#39;</span>) <span class="sc">+</span></span>
<span id="cb612-3"><a href="pagerank-y-análisis-de-redes.html#cb612-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-6-1.png" width="576" /></p>

<div class="resumen">
<p>Los algoritmos basados en fuerzas para representar redes en <span class="math inline">\(2\)</span> o <span class="math inline">\(3\)</span> dimensiones se basan principalmente en la siguiente idea:</p>
<ul>
<li>Las aristas actúan como resortes, que no permiten que nodos ligados se alejen mucho</li>
<li>Los nodos tienen fuerzas de repulsión entre ellos (la analogía física es de cargas elécricas), y también a veces de gravedad entre ellos.</li>
<li>El algoritmo de representación intenta minimizar la energía de la configuración del sistema de atracciones y repulsiones.
</div></li>
</ul>
<p>Hay muchas variaciones de estos algoritmos, por ejemplo: <em>graphopt</em> en <em>igraph</em>,
<em>fruchtermann-rheingold</em>, <em>kamada-kawai</em>, <em>gem</em>, <em>escalamiento multidimensional</em>, <em>forceAtlas</em>,
etc. Intenta mover los nodos de las siguiente gráfica para entender el funcionamiento
básico de estos algoritmos:</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="pagerank-y-análisis-de-redes.html#cb613-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(visNetwork)</span>
<span id="cb613-2"><a href="pagerank-y-análisis-de-redes.html#cb613-2" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> g <span class="sc">|&gt;</span> <span class="fu">activate</span>(edges) <span class="sc">|&gt;</span> <span class="fu">as_tibble</span>()</span>
<span id="cb613-3"><a href="pagerank-y-análisis-de-redes.html#cb613-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">13</span>)</span>
<span id="cb613-4"><a href="pagerank-y-análisis-de-redes.html#cb613-4" aria-hidden="true" tabindex="-1"></a>red_vis <span class="ot">&lt;-</span> <span class="fu">visNetwork</span>(<span class="at">nodes =</span> <span class="fu">tibble</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">label =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>), </span>
<span id="cb613-5"><a href="pagerank-y-análisis-de-redes.html#cb613-5" aria-hidden="true" tabindex="-1"></a>           edges, <span class="at">width =</span> <span class="st">&quot;100%&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb613-6"><a href="pagerank-y-análisis-de-redes.html#cb613-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">solver =</span><span class="st">&#39;forceAtlas2Based&#39;</span>, </span>
<span id="cb613-7"><a href="pagerank-y-análisis-de-redes.html#cb613-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">forceAtlas2Based =</span> <span class="fu">list</span>(<span class="at">gravitationalConstant =</span> <span class="sc">-</span> <span class="dv">50</span>, <span class="co"># negativo!</span></span>
<span id="cb613-8"><a href="pagerank-y-análisis-de-redes.html#cb613-8" aria-hidden="true" tabindex="-1"></a>                              <span class="at">centralGravity =</span> <span class="fl">0.01</span>, </span>
<span id="cb613-9"><a href="pagerank-y-análisis-de-redes.html#cb613-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">springLength =</span> <span class="dv">100</span>,</span>
<span id="cb613-10"><a href="pagerank-y-análisis-de-redes.html#cb613-10" aria-hidden="true" tabindex="-1"></a>                              <span class="at">springConstant =</span> <span class="dv">1</span>,</span>
<span id="cb613-11"><a href="pagerank-y-análisis-de-redes.html#cb613-11" aria-hidden="true" tabindex="-1"></a>                              <span class="at">avoidOverlap =</span> <span class="dv">1</span></span>
<span id="cb613-12"><a href="pagerank-y-análisis-de-redes.html#cb613-12" aria-hidden="true" tabindex="-1"></a>                              ))</span>
<span id="cb613-13"><a href="pagerank-y-análisis-de-redes.html#cb613-13" aria-hidden="true" tabindex="-1"></a>red_vis</span></code></pre></div>
<div id="htmlwidget-d702bf6449cc05af9583" style="width:100%;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-d702bf6449cc05af9583">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],"label":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]},"edges":{"from":[4,5,8,1,1,8,10,6,8,11,6,11,9,16,2,4,5,11,16,13,17,18],"to":[8,8,10,12,13,13,14,15,15,15,16,17,18,18,19,19,19,19,19,20,20,20]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"physics":{"solver":"forceAtlas2Based","forceAtlas2Based":{"gravitationalConstant":-50,"centralGravity":0.01,"springLength":100,"springConstant":1,"avoidOverlap":1}}},"groups":null,"width":"100%","height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script>
<div id="ejercicio-6" class="section level3" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Ejercicio</h3>
<ul>
<li>Para la gráfica anterior, busca qué parámetros
puedes cambiar en el algoritmo y experimenta cambiándolos (cuánta repulsión, rigidez
de los resortes, número de iteraciones, etc.)</li>
</ul>
<p>Otras familias de algoritmos intentan distintas estrategias, como los layout
de círculo, estrella, para árboles, etc.</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="pagerank-y-análisis-de-redes.html#cb614-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(g, <span class="at">layout =</span> <span class="st">&#39;circle&#39;</span>) <span class="sc">+</span></span>
<span id="cb614-2"><a href="pagerank-y-análisis-de-redes.html#cb614-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb614-3"><a href="pagerank-y-análisis-de-redes.html#cb614-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">&#39;salmon&#39;</span>) <span class="sc">+</span></span>
<span id="cb614-4"><a href="pagerank-y-análisis-de-redes.html#cb614-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>()</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-9-1.png" width="576" /></p>
</div>
</div>
<div id="medidas-de-centralidad-para-redes" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Medidas de centralidad para redes</h2>
<p>Como discutimos arriba, las medidas de centralidad en redes intentan capturar
un concepto de importancia o conectividad de un nodo en una red. Primero comenzamos
con el caso <strong>no dirigido</strong>. Medidas básicas de centralidad son</p>
<ul>
<li><p><strong>Grado</strong> o grado de entrada/salida: cuántas ligas tiene un nodo (no dirigidos, de entrada o de salida).</p></li>
<li><p><strong>Betweeness</strong>: qué tan importante o único es un nodo para conectar otros pares
de nodos de la red (por ejemplo, una persona con betweeness alto controla más fácilmente el flujo de información en una red social).</p></li>
<li><p><strong>Cercanía</strong>: qué tan lejos en promedio están los otros nodos de la red (pues puede encontrar y conectar más fácilmente otras dos nodos en la red).</p></li>
<li><p><strong>Centralidad de eigenvector/Pagerank</strong>: la centralidad de un nodo es una especie de promedio de la centralidad de sus vecinos.</p></li>
</ul>
<div id="grado" class="section level3" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> Grado</h3>
<p>Sea <span class="math inline">\(G\)</span> una gráfica <strong>no dirigida</strong>, y sea <span class="math inline">\(A\)</span> la matriz de adyacencia de <span class="math inline">\(G\)</span>.
Si <span class="math inline">\(i\)</span> es un nodo (vértice) dado, entonces su grado es</p>
<p><span class="math display">\[c_G(i)=\sum_{j\neq i} A_{i,j}.\]</span>
que cuenta cúantas aristas conectan con el nodo <span class="math inline">\(i\)</span>.</p>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb615-1"><a href="pagerank-y-análisis-de-redes.html#cb615-1" aria-hidden="true" tabindex="-1"></a>graficar_red_nd <span class="ot">&lt;-</span> <span class="cf">function</span>(dat_g, <span class="at">layout =</span> <span class="st">&#39;kk&#39;</span>){</span>
<span id="cb615-2"><a href="pagerank-y-análisis-de-redes.html#cb615-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(dat_g, <span class="at">layout =</span> layout) <span class="sc">+</span></span>
<span id="cb615-3"><a href="pagerank-y-análisis-de-redes.html#cb615-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">alpha=</span><span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb615-4"><a href="pagerank-y-análisis-de-redes.html#cb615-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> importancia), <span class="at">colour =</span> <span class="st">&#39;salmon&#39;</span>) <span class="sc">+</span></span>
<span id="cb615-5"><a href="pagerank-y-análisis-de-redes.html#cb615-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> nombre), <span class="at">nudge_y =</span> <span class="fl">0.2</span>, <span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb615-6"><a href="pagerank-y-análisis-de-redes.html#cb615-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>(<span class="at">base_family =</span> <span class="st">&#39;sans&#39;</span>)</span>
<span id="cb615-7"><a href="pagerank-y-análisis-de-redes.html#cb615-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb615-8"><a href="pagerank-y-análisis-de-redes.html#cb615-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb615-9"><a href="pagerank-y-análisis-de-redes.html#cb615-9" aria-hidden="true" tabindex="-1"></a>g_grado <span class="ot">&lt;-</span> g <span class="sc">|&gt;</span> <span class="fu">activate</span>(nodes) <span class="sc">|&gt;</span></span>
<span id="cb615-10"><a href="pagerank-y-análisis-de-redes.html#cb615-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">importancia =</span> <span class="fu">centrality_degree</span>()) <span class="sc">|&gt;</span></span>
<span id="cb615-11"><a href="pagerank-y-análisis-de-redes.html#cb615-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) </span>
<span id="cb615-12"><a href="pagerank-y-análisis-de-redes.html#cb615-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb615-13"><a href="pagerank-y-análisis-de-redes.html#cb615-13" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_red_nd</span>(g_grado)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div id="qué-no-captura-el-grado-como-medida-de-centralidad" class="section level4 unnumbered">
<h4>¿Qué no captura el grado como medida de centralidad?</h4>

<div class="resumen">
El <strong>grado</strong> es una medida local que no toma en cuenta la topología más global
de la red: cómo están conectados nodos más lejanos alrededor del nodo que nos interesa.
</div>
</div>
<div id="distancia-a-otros-nodos" class="section level4 unnumbered">
<h4>Distancia a otros nodos</h4>
<p>En primer lugar, por ejemplo, no captura que algunos nodos están más cercanos en
promedio a los nodos de la red que otros.</p>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="pagerank-y-análisis-de-redes.html#cb616-1" aria-hidden="true" tabindex="-1"></a>g_simple <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">5</span>), <span class="at">directed =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb616-2"><a href="pagerank-y-análisis-de-redes.html#cb616-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tbl_graph</span>() <span class="sc">|&gt;</span></span>
<span id="cb616-3"><a href="pagerank-y-análisis-de-redes.html#cb616-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">importancia =</span> <span class="fu">centrality_degree</span>()) <span class="sc">|&gt;</span></span>
<span id="cb616-4"><a href="pagerank-y-análisis-de-redes.html#cb616-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nombre  =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span>
<span id="cb616-5"><a href="pagerank-y-análisis-de-redes.html#cb616-5" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_red_nd</span>(g_simple)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Obsérvese en este ejemplo que el nodo <span class="math inline">\(C\)</span> es más importante que <span class="math inline">\(D\)</span>, en el sentido
de que está más cercano a los nodos de toda la red, aún cuando el grado es el mismo
para ambos.</p>
</div>
<div id="caminos-que-pasan-por-un-nodo" class="section level4 unnumbered">
<h4>Caminos que pasan por un nodo</h4>
<p>En la siguiente gráfica, el nodo <span class="math inline">\(G\)</span> es importante porque es la única conexión
entre dos partes de la red, y esto no lo captura el grado:</p>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb617-1"><a href="pagerank-y-análisis-de-redes.html#cb617-1" aria-hidden="true" tabindex="-1"></a>triangulo_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>)</span>
<span id="cb617-2"><a href="pagerank-y-análisis-de-redes.html#cb617-2" aria-hidden="true" tabindex="-1"></a>triangulo_2 <span class="ot">&lt;-</span> triangulo_1 <span class="sc">+</span> <span class="dv">3</span></span>
<span id="cb617-3"><a href="pagerank-y-análisis-de-redes.html#cb617-3" aria-hidden="true" tabindex="-1"></a>red_3 <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(triangulo_1, triangulo_2, <span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">1</span>,<span class="dv">7</span>,<span class="dv">4</span>)), <span class="at">directed =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb617-4"><a href="pagerank-y-análisis-de-redes.html#cb617-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tbl_graph</span>() <span class="sc">|&gt;</span></span>
<span id="cb617-5"><a href="pagerank-y-análisis-de-redes.html#cb617-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">importancia =</span> <span class="fu">centrality_degree</span>()) <span class="sc">|&gt;</span></span>
<span id="cb617-6"><a href="pagerank-y-análisis-de-redes.html#cb617-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nombre  =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>])</span>
<span id="cb617-7"><a href="pagerank-y-análisis-de-redes.html#cb617-7" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_red_nd</span>(red_3)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
<div id="nodos-conectados-a-otros-nodos-importantes" class="section level4 unnumbered">
<h4>Nodos conectados a otros nodos importantes</h4>
<p>En la siguiente gráfica el nodo <span class="math inline">\(H\)</span> tienen el mismo grado que <span class="math inline">\(F\)</span>, pero
<span class="math inline">\(H\)</span> está conectado a un nodo más importante (<span class="math inline">\(A\)</span>)</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="pagerank-y-análisis-de-redes.html#cb618-1" aria-hidden="true" tabindex="-1"></a>red_4 <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">7</span>,<span class="dv">1</span>,<span class="dv">8</span>), <span class="at">directed=</span><span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb618-2"><a href="pagerank-y-análisis-de-redes.html#cb618-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tbl_graph</span>() <span class="sc">|&gt;</span></span>
<span id="cb618-3"><a href="pagerank-y-análisis-de-redes.html#cb618-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">importancia =</span> <span class="fu">centrality_degree</span>()) <span class="sc">|&gt;</span></span>
<span id="cb618-4"><a href="pagerank-y-análisis-de-redes.html#cb618-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nombre  =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>])</span>
<span id="cb618-5"><a href="pagerank-y-análisis-de-redes.html#cb618-5" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_red_nd</span>(red_4)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
</div>
<div id="medida-de-centralidad-betweeness-o-intermediación" class="section level3" number="7.4.2">
<h3><span class="header-section-number">7.4.2</span> Medida de centralidad: <em>Betweeness</em> o <em>Intermediación</em></h3>
<p>La medida de centralidad de <em>intermediación</em> de un nodo <span class="math inline">\(u\)</span> se define como:
<span class="math display">\[c_b (u) = \sum_{j&lt;k, u\neq j,u\neq i} \frac{ g(j,k |u)}{ g(j,k)},\]</span>
donde</p>
<ul>
<li><p><span class="math inline">\(g(j,k)\)</span> es el número de caminos más cortos distintos entre <span class="math inline">\(j\)</span> y <span class="math inline">\(k\)</span> y</p></li>
<li><p><span class="math inline">\(g(j,k |u)\)</span> es el número de caminos más cortos distintos entre <span class="math inline">\(j\)</span> y <span class="math inline">\(k\)</span> que pasan por <span class="math inline">\(u\)</span>.</p></li>
<li><p><span class="math inline">\(g(j,k | u ) = 0\)</span> cuando <span class="math inline">\(j=u\)</span> o <span class="math inline">\(k=u\)</span>.</p></li>
<li><p>Los caminos que más aportan a la intermediación de un nodo <span class="math inline">\(u\)</span> son aquellos que
conectan nodos que no tienen otra alternativa más que pasar por <span class="math inline">\(u\)</span>.</p></li>
</ul>
<p>Esta medida se puede normalizar poniendo (<span class="math inline">\(n\)</span> es el total de nodos de la red)
<span class="math display">\[\overline{c}_b (i)=c_b (i)/\binom{n-1}{2},\]</span>
pues el denominador es el máximo valor de intermediación que puede alcanzar un vértice
en una red de <span class="math inline">\(n\)</span> nodos (demuéstralo).</p>
<div id="ejemplo-22" class="section level4 unnumbered">
<h4>Ejemplo</h4>
<div class="sourceCode" id="cb619"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb619-1"><a href="pagerank-y-análisis-de-redes.html#cb619-1" aria-hidden="true" tabindex="-1"></a>red_4 <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">6</span>,<span class="dv">7</span>), </span>
<span id="cb619-2"><a href="pagerank-y-análisis-de-redes.html#cb619-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">directed =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb619-3"><a href="pagerank-y-análisis-de-redes.html#cb619-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tbl_graph</span>() <span class="sc">|&gt;</span></span>
<span id="cb619-4"><a href="pagerank-y-análisis-de-redes.html#cb619-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">importancia =</span> <span class="fu">centrality_betweenness</span>()) <span class="sc">|&gt;</span></span>
<span id="cb619-5"><a href="pagerank-y-análisis-de-redes.html#cb619-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nombre  =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>])</span>
<span id="cb619-6"><a href="pagerank-y-análisis-de-redes.html#cb619-6" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_red_nd</span>(red_4) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">&#39;Intermediación&#39;</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-15-1.png" width="384" /></p>
<p>Por ejemplo, consideremos el nodo <span class="math inline">\(B\)</span>. Hay dos caminos más
cortos de <span class="math inline">\(C\)</span> a <span class="math inline">\(F\)</span> (de tamaño <span class="math inline">\(2\)</span>), y uno de ellos pasa por <span class="math inline">\(B\)</span>.
De modo que los caminos de <span class="math inline">\(C\)</span> a <span class="math inline">\(F\)</span> aportan <span class="math inline">\(0.5\)</span> al <em>betweeness</em>
de <span class="math inline">\(B\)</span>. De los caminos más cortos entre <span class="math inline">\(E\)</span> y <span class="math inline">\(D\)</span>, ninguno pasa
por <span class="math inline">\(B\)</span>, así que este par de vértices aporta <span class="math inline">\(0\)</span> al <em>betweeness</em>.
Verifica el valor de betweeness para <span class="math inline">\(B\)</span> haciendo los cálculos
restantes:</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="pagerank-y-análisis-de-redes.html#cb620-1" aria-hidden="true" tabindex="-1"></a>red_4 <span class="sc">|&gt;</span> <span class="fu">as_tibble</span>()</span></code></pre></div>
<pre><code>## # A tibble: 7 × 2
##   importancia nombre
##         &lt;dbl&gt; &lt;chr&gt; 
## 1         7.5 A     
## 2         2.5 B     
## 3         0   C     
## 4         0   D     
## 5         0   E     
## 6         5   F     
## 7         0   G</code></pre>
</div>
<div id="ejemplo-de-grado-e-intermediación-pulp-fiction" class="section level4 unnumbered">
<h4>Ejemplo de grado e intermediación: Pulp Fiction</h4>
<p>En esta red, el color es una medición de betweeness y el tamaño del nodo una medición del grado.
Aunque Butch y Jules tienen grados similares, Butch tiene <em>intermediación</em> más alto
pues provee más ligas únicas más cortas
entre los personajes, mientras que la mayoría de los de Jules
pasan también por Vincent.</p>
<div class="figure">
<img src="images/pulp_fiction_between.png" alt="" />
<p class="caption">Pulp fiction</p>
</div>
</div>
</div>
<div id="medida-de-centralidad-cercanía" class="section level3" number="7.4.3">
<h3><span class="header-section-number">7.4.3</span> Medida de centralidad: Cercanía</h3>
<p>También es posible definir medidas de importancia según el promedio de cercanía a todos
los nodos. Éste se calcula como el inverso del promedio de distancias del nodo a todos los demás.</p>
<div id="ejemplo-23" class="section level4 unnumbered">
<h4>Ejemplo</h4>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="pagerank-y-análisis-de-redes.html#cb622-1" aria-hidden="true" tabindex="-1"></a>red_5 <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">1</span>,<span class="dv">7</span>,<span class="dv">8</span>,</span>
<span id="cb622-2"><a href="pagerank-y-análisis-de-redes.html#cb622-2" aria-hidden="true" tabindex="-1"></a>                 <span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">9</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">8</span>,<span class="dv">1</span>,<span class="dv">7</span>), </span>
<span id="cb622-3"><a href="pagerank-y-análisis-de-redes.html#cb622-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="pagerank-y-análisis-de-redes.html#cb623-1" aria-hidden="true" tabindex="-1"></a>red_5 <span class="ot">&lt;-</span> red_5 <span class="sc">|&gt;</span> <span class="fu">as_tbl_graph</span>() <span class="sc">|&gt;</span></span>
<span id="cb623-2"><a href="pagerank-y-análisis-de-redes.html#cb623-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">importancia =</span> <span class="fu">centrality_closeness</span>(<span class="at">normalized =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb623-3"><a href="pagerank-y-análisis-de-redes.html#cb623-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nombre  =</span> LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>])</span>
<span id="cb623-4"><a href="pagerank-y-análisis-de-redes.html#cb623-4" aria-hidden="true" tabindex="-1"></a>red_5 <span class="sc">|&gt;</span> <span class="fu">activate</span>(nodes) <span class="sc">|&gt;</span> <span class="fu">as_tibble</span>()</span></code></pre></div>
<pre><code>## # A tibble: 9 × 2
##   importancia nombre
##         &lt;dbl&gt; &lt;chr&gt; 
## 1       0.8   A     
## 2       0.571 B     
## 3       0.533 C     
## 4       0.381 D     
## 5       0.381 E     
## 6       0.471 F     
## 7       0.5   G     
## 8       0.571 H     
## 9       0.571 I</code></pre>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="pagerank-y-análisis-de-redes.html#cb625-1" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_red_nd</span>(red_5) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">&#39;Cercanía&#39;</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>En este ejemplo, el nodo <span class="math inline">\(F\)</span> tiene cercanía más alta que <span class="math inline">\(D\)</span>, por ejemplo,
pues se conecta a un nodo bien conectado de la red (en grado y betweeness):</p>
</div>
<div id="ejercicio-7" class="section level4 unnumbered">
<h4>Ejercicio</h4>
<p>Verifica que la cercanía de <span class="math inline">\(A\)</span> es <span class="math inline">\(0.80\)</span>.</p>
</div>
</div>
<div id="centralidad-de-eigenvector" class="section level3" number="7.4.4">
<h3><span class="header-section-number">7.4.4</span> Centralidad de eigenvector</h3>
<p>Esta medida considera que la importancia de un nodo está dado por la suma
normalizada de las
importancias de sus vecinos. De esta forma, es importante estar cercano a nodos importantes (como en cercanía), pero también cuenta conectarse a muchos nodos (como en grado).</p>
<ul>
<li>Nótese que esta es una descripción circular: para saber la importancia de un nodo, hay que saber la importancia de sus vecinos.</li>
</ul>
<p>Consideremos el ejemplo siguiente:</p>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb626-1"><a href="pagerank-y-análisis-de-redes.html#cb626-1" aria-hidden="true" tabindex="-1"></a>red_6 <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>), <span class="at">directed =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb626-2"><a href="pagerank-y-análisis-de-redes.html#cb626-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tbl_graph</span>() <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">importancia =</span> <span class="dv">0</span>)</span>
<span id="cb626-3"><a href="pagerank-y-análisis-de-redes.html#cb626-3" aria-hidden="true" tabindex="-1"></a><span class="fu">graficar_red_nd</span>(red_6) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)<span class="sc">+</span> <span class="fu">labs</span>(<span class="at">subtitle =</span> <span class="st">&#39;Eigenvector&#39;</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>Supongamos que las importancias de estos <span class="math inline">\(5\)</span> nodos son
<span class="math display">\[(x_1,\ldots, x_5)\]</span>
donde <span class="math inline">\(x_i\geq 0\)</span>. Suponemos también que estas importancias
están normalizadas, de forma que <span class="math inline">\(\sum_i x_i = 1\)</span>.</p>
<p>De acuerdo a la idea mencionada arriba, calculamos entonces cómo se ve la suma de las importancias de nodos adyacentes a cada nodo. Para el nodo uno,</p>
<p><span class="math display">\[{y_1} = x_2 + x_3 + x_4\]</span></p>
<p>para el nodo <span class="math inline">\(2\)</span></p>
<p><span class="math display">\[y_2 = x_1 + x_5\]</span></p>
<p>y para los siguientes nodos tendríamos
<span class="math display">\[y_3 =  x_1\]</span>
<span class="math display">\[y_4 =  x_1\]</span>
<span class="math display">\[y_5 = x_2\]</span>.</p>
<p>Este sistema lo podemos escribir de forma matricial, usando
la matriz de adyacencia, como</p>
<p><span class="math display">\[ y = 
\left (
\begin{array}{rrrrr}
 0 &amp; 1 &amp; 1 &amp; 1 &amp; 0 \\ 
 1 &amp; 0 &amp; 0 &amp; 0 &amp; 1 \\ 
  1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 
  1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 
  0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\ 
\end{array}
\right ) x
\]</span></p>
<p><strong>Por definición de las importancias</strong>, tenemos que normalizar este vector <span class="math inline">\(y\)</span> para obtener importancias originales. Es decir, existe una <span class="math inline">\(\lambda\)</span> tal que</p>
<p><span class="math display">\[\frac{1}{\lambda}y = x\]</span></p>
<p>Donde <span class="math inline">\(\lambda\geq 0\)</span> es el factor de normalización. En resumen, <span class="math inline">\(x\geq 0\)</span> debe satisfacer, para alguna <span class="math inline">\(\lambda &gt; 0\)</span>, la
ecuación
<span class="math display">\[A^t x = \lambda x,\]</span></p>
<p>es decir, <span class="math inline">\(x\)</span> <strong>es un vector propio de la matriz de adyacencia con valor propio positivo.</strong></p>
<p>Sin embargo, ¿cuando existe un vector <span class="math inline">\(x\geq 0\)</span> con <span class="math inline">\(\lambda&gt;0\)</span> que satisfaga esta propiedad? ¿es único?</p>
<div id="ejercicio-8" class="section level4 unnumbered">
<h4>Ejercicio</h4>
<p>Resuelve el sistema de ecuaciones de arriba y verifica que tal vector existe.
¿Cuál es el valor de lambda?</p>
</div>
<div id="matrices-no-negativas" class="section level4 unnumbered">
<h4>Matrices no negativas</h4>
<p>Para entender la existencia y forma de la centralidad de eigenvector,
comenzamos recordando algunos teoremas básicos de álgebra lineal. En primer
lugar, tenemos:</p>

<div class="resumen">
<p><strong>Espectro de matrices no-negativas</strong></p>
<p>Si <span class="math inline">\(A\)</span> es una matriz no negativa, entonces:</p>
<ul>
<li>Existe un valor
propio real <em>no-negativo</em> <span class="math inline">\(\lambda_0\)</span> tal que <span class="math inline">\(\lambda_0\geq |\lambda|\)</span> para cualquier otro valor propio <span class="math inline">\(\lambda\)</span> de <span class="math inline">\(A\)</span>.</li>
<li>Al valor propio <span class="math inline">\(\lambda_0\)</span> está asociado al menos un vector propio <span class="math inline">\(x\)</span> con entradas no negativas.
</div></li>
</ul>
<p>Nota: Parte de este teorema se puede entender observando que si <span class="math inline">\(A\)</span> es no-negativa, entonces
mapea el cono <span class="math inline">\(\{(x_1,x_2,\ldots, x_m) | x_i \geq 0\}\)</span> dentro de sí mismo,
lo que implica que debe dejar invariante alguna dirección dentro de este cono.</p>
<p>Si este vector propio no-negativo fuera único (hasta normalización) y distinto del
vector <span class="math inline">\(0\)</span>, entonces esto nos daría un conjunto de medidas (únicas hasta normalización) <span class="math inline">\(x\)</span> para la importancia de los nodos:</p>
</div>
<div id="ejemplo-1-1" class="section level4 unnumbered">
<h4>Ejemplo 1</h4>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="pagerank-y-análisis-de-redes.html#cb627-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red_6, <span class="at">vertex.size =</span> <span class="dv">40</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-21-1.png" width="200px" height="200px" /></p>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb628-1"><a href="pagerank-y-análisis-de-redes.html#cb628-1" aria-hidden="true" tabindex="-1"></a>A_red <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red_6)</span>
<span id="cb628-2"><a href="pagerank-y-análisis-de-redes.html#cb628-2" aria-hidden="true" tabindex="-1"></a>A_red</span></code></pre></div>
<pre><code>## 5 x 5 sparse Matrix of class &quot;dgCMatrix&quot;
##               
## [1,] . 1 1 1 .
## [2,] 1 . . . 1
## [3,] 1 . . . .
## [4,] 1 . . . .
## [5,] . 1 . . .</code></pre>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb630-1"><a href="pagerank-y-análisis-de-redes.html#cb630-1" aria-hidden="true" tabindex="-1"></a>desc_A <span class="ot">&lt;-</span> <span class="fu">eigen</span>(A_red)</span>
<span id="cb630-2"><a href="pagerank-y-análisis-de-redes.html#cb630-2" aria-hidden="true" tabindex="-1"></a>desc_A <span class="sc">|&gt;</span> <span class="fu">map</span>( <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## $values
## [1]  1.848  0.765  0.000 -0.765 -1.848
## 
## $vectors
##       [,1]   [,2]   [,3]   [,4]   [,5]
## [1,] 0.653 -0.271  0.000  0.271  0.653
## [2,] 0.500  0.500  0.000  0.500 -0.500
## [3,] 0.354 -0.354  0.707 -0.354 -0.354
## [4,] 0.354 -0.354 -0.707 -0.354 -0.354
## [5,] 0.271  0.653  0.000 -0.653  0.271</code></pre>
<p>Las medida de centralidad de eigenvector da entonces, en este caso:</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="pagerank-y-análisis-de-redes.html#cb632-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> desc_A<span class="sc">$</span>vectors[,<span class="dv">1</span>]</span>
<span id="cb632-2"><a href="pagerank-y-análisis-de-redes.html#cb632-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(x, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 0.65 0.50 0.35 0.35 0.27</code></pre>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="pagerank-y-análisis-de-redes.html#cb634-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red_6, <span class="at">vertex.size  =</span> <span class="dv">100</span><span class="sc">*</span>x)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-23-1.png" width="200px" height="200px" /></p>
</div>
<div id="ejemplo-2-1" class="section level4 unnumbered">
<h4>Ejemplo 2</h4>
<p>Sin embargo, puede ser que obtengamos más de un valor propio no negativo con
vectores asociados no negativos, por ejemplo:</p>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb635-1"><a href="pagerank-y-análisis-de-redes.html#cb635-1" aria-hidden="true" tabindex="-1"></a>red <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb635-2"><a href="pagerank-y-análisis-de-redes.html#cb635-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red, <span class="at">vertex.size=</span><span class="dv">20</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-24-1.png" width="200px" height="200px" /></p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="pagerank-y-análisis-de-redes.html#cb636-1" aria-hidden="true" tabindex="-1"></a>A_red <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red)</span>
<span id="cb636-2"><a href="pagerank-y-análisis-de-redes.html#cb636-2" aria-hidden="true" tabindex="-1"></a>A_red</span></code></pre></div>
<pre><code>## 6 x 6 sparse Matrix of class &quot;dgCMatrix&quot;
##                 
## [1,] . 1 1 . . .
## [2,] 1 . 1 1 . .
## [3,] 1 1 . . . .
## [4,] . 1 . . . .
## [5,] . . . . . 1
## [6,] . . . . 1 .</code></pre>
<p>Nótese que los eigenvectores <span class="math inline">\(1\)</span> y <span class="math inline">\(2\)</span> son no negativos, y están asociados a
vectores propios no negativos:</p>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="pagerank-y-análisis-de-redes.html#cb638-1" aria-hidden="true" tabindex="-1"></a>desc_A <span class="ot">&lt;-</span> <span class="fu">eigen</span>(A_red)</span>
<span id="cb638-2"><a href="pagerank-y-análisis-de-redes.html#cb638-2" aria-hidden="true" tabindex="-1"></a>desc_A<span class="sc">|&gt;</span> <span class="fu">map</span>( <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## $values
## [1]  2.170  1.000  0.311 -1.000 -1.000 -1.481
## 
## $vectors
##        [,1]  [,2]   [,3]   [,4]   [,5]   [,6]
## [1,] -0.523 0.000 -0.368  0.000 -0.707  0.302
## [2,] -0.612 0.000  0.254  0.000  0.000 -0.749
## [3,] -0.523 0.000 -0.368  0.000  0.707  0.302
## [4,] -0.282 0.000  0.815  0.000  0.000  0.506
## [5,]  0.000 0.707  0.000  0.707  0.000  0.000
## [6,]  0.000 0.707  0.000 -0.707  0.000  0.000</code></pre>
<p><strong>Nota</strong>: si encontramos un vector propio <span class="math inline">\(x\)</span> con entradas negativas o cero,
podemos convertirlo a un vector propio con entradas no negativas tomando <span class="math inline">\(-x\)</span>. Los
vectores propios debemos considerarlos <em>módulo</em> una constante multiplicativa, y
los vectores particulares que se encuentran dependen del algoritmo.</p>
<p>En este caso, la medida de centralización dependería de qué
peso le ponemos al primer vector propio vs el segundo vector propio. En este
ejemplo, la unicidad no sucede pues la red asociada no es conexa.</p>
</div>
</div>
<div id="matrices-irreducibles-y-gráficas-fuertemente-conexas" class="section level3 unnumbered">
<h3>Matrices irreducibles y gráficas fuertemente conexas</h3>
<p>¿Cuándo podemos garantizar unicidad en la solución de <span class="math inline">\(Ax=\lambda x\)</span> con <span class="math inline">\(\lambda &gt;0\)</span> y que <span class="math inline">\(x\)</span> sea un vector no-negativo distinto de <span class="math inline">\(0\)</span>?</p>
<p>Sea <span class="math inline">\(A\)</span> la matriz de adyacencia de una gráfica <strong>no dirigida</strong>.</p>
<ul>
<li>Si la gráfica asociada a <span class="math inline">\(A\)</span> es fuertemente conexa (existen caminos entre cualquier par de vértices) entonces decimos que <span class="math inline">\(A\)</span> es <strong>irreducible</strong>.</li>
<li>Podemos dar también una definición de irreducibilidad sólo en términos
de <span class="math inline">\(A\)</span>: <span class="math inline">\(A\)</span> es irreducible cuando para toda <span class="math inline">\(i,j\)</span> existe <span class="math inline">\(m\geq 0\)</span> tal
que <span class="math inline">\((A^m)_{i,j} &gt; 0\)</span>.</li>
</ul>
<p><em>Nota</em>: discute por qué estas dos definiciones son equivalentes.</p>
<p>Utilizaremos uno de los teoremas más importantes del
álgebra lineal:</p>

<div class="resumen">
<p><strong>Teorema de Perron-Frobenius</strong></p>
<p>Si <span class="math inline">\(A\)</span> es una matriz no-negativa irreducible, entonces</p>
<ul>
<li>Existe un valor
propio real <em>positivo</em> simple <span class="math inline">\(\lambda_0\)</span> tal que <span class="math inline">\(\lambda_0 &gt; |\lambda|\)</span> para cualquier otro valor propio <span class="math inline">\(\lambda\)</span> de <span class="math inline">\(A\)</span>, asociado a un vector propio <span class="math inline">\(x\)</span> con entradas positivas.</li>
<li>No existe ningún otro vector propio con entradas no negativas que no sea paralelo a <span class="math inline">\(x\)</span>.
</div></li>
</ul>
<p>Y entonces podemos definir una medida única de centralidad módulo una constante multiplicativa.</p>

<div class="resumen">
Si <span class="math inline">\(A\)</span> es la matriz de adyacencia de una red no dirigida, y <span class="math inline">\(A\)</span> es irreducible (significa que la red es fuertemente conexa), definimos
la <strong>centralidad de eigenvector</strong> de un nodo <span class="math inline">\(i\)</span> como la <span class="math inline">\(i\)</span>-esima componente
del vector positivo <span class="math inline">\(x\)</span> (con <span class="math inline">\(\sum x_i = 1\)</span>)
asociado al valor propio (único) de Perron-Frobenius.
</div>
<div id="ejemplo-facultad-de-tres-universidades" class="section level4 unnumbered">
<h4>Ejemplo: facultad de tres universidades</h4>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="pagerank-y-análisis-de-redes.html#cb640-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;igraphdata&#39;</span>)</span></code></pre></div>
<pre><code>## Installing package into &#39;/usr/local/lib/R/site-library&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="pagerank-y-análisis-de-redes.html#cb642-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;igraphdata&quot;</span>)</span>
<span id="cb642-2"><a href="pagerank-y-análisis-de-redes.html#cb642-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;UKfaculty&quot;</span>)</span>
<span id="cb642-3"><a href="pagerank-y-análisis-de-redes.html#cb642-3" aria-hidden="true" tabindex="-1"></a>ukf.und <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as.undirected</span>(UKfaculty) </span>
<span id="cb642-4"><a href="pagerank-y-análisis-de-redes.html#cb642-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dat_1 <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.data.frame</span>((ukf.und)))</span></code></pre></div>
<pre><code>##   from to weight
## 1    1  4      4
## 2    3  4      1
## 3    5  6      1
## 4    5  7      2
## 5    6  7     28
## 6    3  9      1</code></pre>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb644-1"><a href="pagerank-y-análisis-de-redes.html#cb644-1" aria-hidden="true" tabindex="-1"></a>grupo <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.vertex.attribute</span>(UKfaculty, <span class="st">&#39;Group&#39;</span>)</span>
<span id="cb644-2"><a href="pagerank-y-análisis-de-redes.html#cb644-2" aria-hidden="true" tabindex="-1"></a>nodos <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(grupo))</span>
<span id="cb644-3"><a href="pagerank-y-análisis-de-redes.html#cb644-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-4"><a href="pagerank-y-análisis-de-redes.html#cb644-4" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(nodos, dat_1, <span class="at">width =</span> <span class="st">&quot;100%&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb644-5"><a href="pagerank-y-análisis-de-redes.html#cb644-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">solver =</span><span class="st">&#39;forceAtlas2Based&#39;</span>, </span>
<span id="cb644-6"><a href="pagerank-y-análisis-de-redes.html#cb644-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">forceAtlas2Based =</span> <span class="fu">list</span>(<span class="at">gravitationalConstant =</span> <span class="sc">-</span><span class="dv">10</span>),</span>
<span id="cb644-7"><a href="pagerank-y-análisis-de-redes.html#cb644-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">stabilization =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div id="htmlwidget-3fdcfbf7f2507f698e36" style="width:100%;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-3fdcfbf7f2507f698e36">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81]},"edges":{"from":[1,3,5,5,6,3,4,5,5,7,5,7,5,7,10,12,2,14,5,7,12,13,3,4,9,2,7,15,15,18,2,6,8,14,15,18,19,2,8,10,13,15,19,5,7,10,12,21,5,7,10,12,13,22,2,15,20,21,2,14,20,21,5,7,10,13,16,19,22,23,5,10,13,2,4,6,7,8,14,15,18,19,20,21,22,23,24,26,27,6,7,10,22,2,8,15,19,20,21,25,26,29,2,24,29,31,10,12,13,16,23,27,15,19,21,25,29,31,2,15,18,21,26,27,29,31,34,1,3,4,2,5,7,9,10,13,15,16,18,19,21,26,27,29,31,32,33,34,35,1,2,5,10,17,33,37,2,15,18,19,21,25,29,31,5,7,10,12,16,23,27,33,37,2,8,15,20,21,29,31,35,5,7,10,16,23,27,28,33,37,39,2,8,12,13,15,18,19,21,25,29,31,34,35,37,41,1,36,1,4,9,17,36,38,44,2,11,15,18,19,21,29,31,34,35,39,43,6,7,22,25,28,5,24,27,37,5,10,12,13,23,27,33,37,42,5,6,18,21,29,35,37,38,43,2,14,15,18,20,21,26,29,31,37,43,1,2,5,9,18,21,24,26,27,29,32,33,35,37,43,48,49,50,3,4,9,17,36,44,49,2,15,17,19,20,25,26,29,34,35,37,38,39,43,46,48,50,51,52,24,29,32,37,48,52,14,20,26,51,55,2,15,18,19,29,31,35,37,39,43,46,51,52,6,11,15,18,19,21,22,27,29,34,35,37,39,46,50,51,54,3,9,17,38,4,9,37,43,1,3,4,5,9,17,45,53,59,1,2,7,9,10,17,18,21,23,24,25,27,29,31,32,37,42,44,46,49,52,54,55,57,61,7,27,30,47,62,5,24,29,32,37,48,52,55,62,5,10,16,27,40,42,62,6,22,29,30,5,27,37,48,58,5,6,7,10,12,13,16,23,27,28,33,40,42,49,66,5,6,7,10,12,13,18,22,23,27,28,29,33,35,37,40,42,47,49,52,59,62,68,2,21,29,37,48,49,50,52,54,57,62,69,10,16,29,33,40,42,69,5,6,7,10,13,16,33,40,42,49,69,38,4,36,38,59,61,62,4,17,38,52,53,61,62,74,5,10,22,42,49,58,62,72,5,7,10,12,13,16,22,23,27,28,29,33,37,40,42,47,49,52,62,63,65,68,69,70,71,72,76,4,17,38,45,59,2,15,18,19,21,29,31,35,37,39,43,46,54,57,62,2,14,15,20,26,29,51,54,56,62,1,37,38,59,73,74,75],"to":[4,4,6,7,7,9,9,9,10,10,12,12,13,13,13,13,15,15,16,16,16,16,17,17,17,18,18,18,19,19,20,20,20,20,20,20,20,21,21,21,21,21,21,22,22,22,22,22,23,23,23,23,23,23,25,25,25,25,26,26,26,26,27,27,27,27,27,27,27,27,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,30,30,30,30,31,31,31,31,31,31,31,31,31,32,32,32,32,33,33,33,33,33,33,34,34,34,34,34,34,35,35,35,35,35,35,35,35,35,36,36,36,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,38,39,39,39,39,39,39,39,39,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,41,42,42,42,42,42,42,42,42,42,42,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,44,44,45,45,45,45,45,45,45,46,46,46,46,46,46,46,46,46,46,46,46,47,47,47,47,47,48,48,48,48,49,49,49,49,49,49,49,49,49,50,50,50,50,50,50,50,50,50,51,51,51,51,51,51,51,51,51,51,51,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,53,53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,55,55,55,55,55,55,56,56,56,56,56,57,57,57,57,57,57,57,57,57,57,57,57,57,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,59,59,59,59,60,60,60,60,61,61,61,61,61,61,61,61,61,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,63,63,63,63,63,64,64,64,64,64,64,64,64,64,65,65,65,65,65,65,65,66,66,66,66,67,67,67,67,67,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,70,70,70,70,70,70,70,70,70,70,70,70,71,71,71,71,71,71,71,72,72,72,72,72,72,72,72,72,72,72,73,74,74,74,74,74,74,75,75,75,75,75,75,75,75,76,76,76,76,76,76,76,76,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,78,78,78,78,78,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,80,80,80,80,80,80,80,80,80,80,81,81,81,81,81,81,81],"weight":[4,1,1,2,28,1,1,1,12,8,1,1,12,18,2,6,8,1,1,1,8,22,8,1,1,26,1,2,2,3,1,2,1,24,1,1,2,10,3,2,4,2,12,1,1,6,4,2,1,10,4,10,1,4,6,2,2,1,2,30,28,1,4,10,12,10,2,1,2,32,1,14,10,14,1,6,20,1,1,6,8,28,1,28,12,2,1,6,6,14,4,1,6,6,24,2,10,1,32,1,2,30,1,24,1,1,3,2,18,28,2,6,4,1,6,1,22,1,22,8,1,12,1,1,20,30,1,6,2,1,8,6,1,3,1,2,1,1,3,2,3,1,8,8,8,3,10,1,2,1,1,1,1,1,6,14,1,2,6,26,8,4,20,8,1,1,1,1,24,1,2,28,1,1,14,1,2,8,1,22,1,4,4,32,1,1,2,8,2,3,1,4,1,3,1,6,1,10,2,1,24,10,6,1,4,1,8,6,6,1,1,1,18,1,1,16,1,6,26,12,12,10,8,4,2,10,2,1,12,2,2,16,8,1,2,1,3,2,22,26,20,2,1,1,8,1,1,2,16,7,8,16,8,12,1,12,1,4,12,20,14,10,6,1,1,1,6,10,1,1,1,1,8,4,4,4,1,2,12,8,16,8,3,4,1,1,2,4,1,1,1,5,6,2,1,4,3,7,1,1,14,1,1,6,3,1,24,3,4,2,1,1,1,8,3,24,26,22,5,1,2,10,1,1,8,10,1,8,2,26,6,1,8,1,1,3,16,4,1,1,6,2,1,1,1,1,4,2,12,3,2,1,12,1,2,20,1,1,12,2,6,1,1,3,14,1,1,4,2,1,1,1,1,3,5,1,10,3,1,26,3,1,1,1,1,8,2,4,1,1,1,1,24,1,1,12,2,20,1,1,3,2,18,12,22,2,1,6,3,2,1,4,1,20,6,1,6,10,2,1,1,2,24,16,8,18,2,6,1,3,10,1,6,2,1,8,1,2,1,3,24,6,1,1,2,16,16,1,14,2,4,3,1,18,1,10,2,1,4,10,1,8,3,10,1,1,18,1,3,4,14,1,10,2,2,8,6,8,2,1,1,6,1,1,12,10,2,10,1,2,4,10,16,8,2,2,2,26,1,1,1,10,10,22,28,2,24,2,28,1,10,1,4,10,16,6,10,16,2,1,10,6,1,1,6,3,4,8,12,10,3,1,14,1,8,20,1,8,14,1,18,3,1,2,5,8,2,1,18,20,14,30,28,1,1,2,8,1,2,1,1,18,1,30,24,1,12,1,10,2,1,1,5,12,22,16,2]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"physics":{"solver":"forceAtlas2Based","stabilization":true,"forceAtlas2Based":{"gravitationalConstant":-10}}},"groups":null,"width":"100%","height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script>
<p>Ahora calculamos centralidad de eigenvector.</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="pagerank-y-análisis-de-redes.html#cb645-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(ukf.und)</span>
<span id="cb645-2"><a href="pagerank-y-análisis-de-redes.html#cb645-2" aria-hidden="true" tabindex="-1"></a>desc_A <span class="ot">&lt;-</span> <span class="fu">eigen</span>(<span class="fu">as.matrix</span>(A))</span>
<span id="cb645-3"><a href="pagerank-y-análisis-de-redes.html#cb645-3" aria-hidden="true" tabindex="-1"></a>desc_A<span class="sc">$</span>values <span class="sc">|&gt;</span> <span class="fu">map_dbl</span>( <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>##  [1] 19.284 13.549  8.527  6.019  5.204  4.560  4.314  3.629  3.521  3.050
## [11]  2.966  2.682  2.395  2.316  2.169  2.164  1.869  1.793  1.672  1.457
## [21]  1.314  1.263  1.119  0.912  0.833  0.767  0.677  0.629  0.609  0.537
## [31]  0.406  0.353  0.229  0.109  0.070 -0.108 -0.214 -0.297 -0.323 -0.533
## [41] -0.609 -0.677 -0.752 -0.892 -0.913 -0.987 -1.087 -1.178 -1.188 -1.247
## [51] -1.349 -1.406 -1.495 -1.553 -1.660 -1.691 -1.803 -1.956 -2.024 -2.179
## [61] -2.210 -2.268 -2.371 -2.435 -2.611 -2.669 -2.828 -2.893 -3.016 -3.176
## [71] -3.262 -3.336 -3.625 -3.805 -4.082 -4.351 -4.481 -4.888 -5.214 -5.341
## [81] -5.982</code></pre>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="pagerank-y-análisis-de-redes.html#cb647-1" aria-hidden="true" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(desc_A<span class="sc">$</span>vector[,<span class="dv">1</span>])</span>
<span id="cb647-2"><a href="pagerank-y-análisis-de-redes.html#cb647-2" aria-hidden="true" tabindex="-1"></a>desc_A<span class="sc">$</span>values[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 19.28427</code></pre>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb649-1"><a href="pagerank-y-análisis-de-redes.html#cb649-1" aria-hidden="true" tabindex="-1"></a>e_vector <span class="ot">&lt;-</span> <span class="sc">-</span>vec</span>
<span id="cb649-2"><a href="pagerank-y-análisis-de-redes.html#cb649-2" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(e_vector,<span class="at">xlab=</span><span class="st">&quot;Primer vector propio&quot;</span>,<span class="at">main=</span><span class="st">&quot;Importancia por centralidad de eigenvector&quot;</span>)<span class="sc">+</span><span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb651-1"><a href="pagerank-y-análisis-de-redes.html#cb651-1" aria-hidden="true" tabindex="-1"></a>colores <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">&#39;red&#39;</span>,<span class="st">&#39;green&#39;</span>))</span>
<span id="cb651-2"><a href="pagerank-y-análisis-de-redes.html#cb651-2" aria-hidden="true" tabindex="-1"></a>colores_1 <span class="ot">&lt;-</span> <span class="fu">colores</span>(<span class="fu">length</span>(e_vector))</span>
<span id="cb651-3"><a href="pagerank-y-análisis-de-redes.html#cb651-3" aria-hidden="true" tabindex="-1"></a>nodos <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(vec), <span class="at">value =</span> e_vector, </span>
<span id="cb651-4"><a href="pagerank-y-análisis-de-redes.html#cb651-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">color =</span> colores_1[<span class="fu">rank</span>(e_vector)])</span>
<span id="cb651-5"><a href="pagerank-y-análisis-de-redes.html#cb651-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb651-6"><a href="pagerank-y-análisis-de-redes.html#cb651-6" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(nodos, dat_1 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>weight) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">colour =</span> <span class="st">&quot;#999999&quot;</span>), </span>
<span id="cb651-7"><a href="pagerank-y-análisis-de-redes.html#cb651-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">width =</span> <span class="st">&quot;100%&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb651-8"><a href="pagerank-y-análisis-de-redes.html#cb651-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">solver =</span><span class="st">&#39;forceAtlas2Based&#39;</span>, </span>
<span id="cb651-9"><a href="pagerank-y-análisis-de-redes.html#cb651-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">stabilization =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb651-10"><a href="pagerank-y-análisis-de-redes.html#cb651-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visNodes</span>(<span class="at">value =</span> <span class="dv">1</span>, <span class="at">scaling =</span> <span class="fu">list</span>(<span class="at">min =</span> <span class="dv">1</span>, <span class="at">max =</span> <span class="dv">200</span>))</span></code></pre></div>
<div id="htmlwidget-16048b3035b71f1f7c2e" style="width:100%;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-16048b3035b71f1f7c2e">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81],"value":[0.0306174407429767,0.175515197219491,0.0102271075866428,0.0285914950533414,0.160390263401205,0.0718943137621042,0.150381546237523,0.0479919957294216,0.0529114203592903,0.149802238238828,0.0136797536233053,0.0903581054978155,0.125751848164982,0.0428120626360817,0.158240096906385,0.0946747059933191,0.0347036292612618,0.156936332783759,0.131298684360442,0.0948068632871642,0.181974995552709,0.101401214279906,0.123351058326896,0.0484053694791653,0.0810798769999323,0.0989797993801854,0.177720458786087,0.0559874640829877,0.259525713522221,0.0282067007821213,0.151662578282076,0.0746256077101075,0.117881951525235,0.103411653157381,0.1635696457486,0.00719450226198973,0.272264032422249,0.0697743259865613,0.110254171905723,0.104643772395937,0.0725097571317513,0.129746109023111,0.165010789262961,0.0146395679248355,0.014542458638919,0.13228971058163,0.0447731087396074,0.0675833650702721,0.129789214097383,0.109031007835389,0.118624989202183,0.186787354488398,0.0178300041561972,0.165787940090548,0.0630763500706515,0.0253261276592991,0.137143775639684,0.131514378490487,0.0228208419681995,0.0269015982796774,0.033170430895945,0.212129003283634,0.0409836396830248,0.0697349147003838,0.0625502165486277,0.0294827364753791,0.041975787330514,0.107525165656292,0.184559914614334,0.117153520499074,0.0631583729893612,0.086232099159597,0.00484230057423121,0.0222926640576147,0.0326112815657097,0.0662785382110072,0.177128835293224,0.00883791471909327,0.133456045129409,0.0700958686299678,0.0236059151474761],"color":["#CC3300","#19E500","#F50900","#D22C00","#26D800","#8C7200","#32CC00","#B24C00","#AC5200","#36C800","#F20C00","#7C8200","#4FAF00","#B84600","#29D500","#798500","#C23C00","#2CD200","#46B800","#758900","#0FEF00","#6F8F00","#52AC00","#AF4F00","#827C00","#728C00","#13EB00","#A85600","#03FB00","#D52900","#2FCF00","#857900","#59A500","#6C9200","#23DB00","#FB0300","#00FF00","#926C00","#5F9F00","#699500","#897500","#4CB200","#1FDF00","#EB1300","#EF0F00","#3FBF00","#B54900","#996600","#49B500","#629C00","#56A800","#09F500","#E81600","#1CE200","#A25C00","#DB2300","#39C500","#42BC00","#E21C00","#D82600","#C53900","#06F800","#BF3F00","#956900","#A55900","#CF2F00","#BC4200","#659900","#0CF200","#5CA200","#9F5F00","#7F7F00","#FF0000","#E51900","#C83600","#9C6200","#16E800","#F80600","#3CC200","#8F6F00","#DF1F00"]},"edges":{"from":[1,3,5,5,6,3,4,5,5,7,5,7,5,7,10,12,2,14,5,7,12,13,3,4,9,2,7,15,15,18,2,6,8,14,15,18,19,2,8,10,13,15,19,5,7,10,12,21,5,7,10,12,13,22,2,15,20,21,2,14,20,21,5,7,10,13,16,19,22,23,5,10,13,2,4,6,7,8,14,15,18,19,20,21,22,23,24,26,27,6,7,10,22,2,8,15,19,20,21,25,26,29,2,24,29,31,10,12,13,16,23,27,15,19,21,25,29,31,2,15,18,21,26,27,29,31,34,1,3,4,2,5,7,9,10,13,15,16,18,19,21,26,27,29,31,32,33,34,35,1,2,5,10,17,33,37,2,15,18,19,21,25,29,31,5,7,10,12,16,23,27,33,37,2,8,15,20,21,29,31,35,5,7,10,16,23,27,28,33,37,39,2,8,12,13,15,18,19,21,25,29,31,34,35,37,41,1,36,1,4,9,17,36,38,44,2,11,15,18,19,21,29,31,34,35,39,43,6,7,22,25,28,5,24,27,37,5,10,12,13,23,27,33,37,42,5,6,18,21,29,35,37,38,43,2,14,15,18,20,21,26,29,31,37,43,1,2,5,9,18,21,24,26,27,29,32,33,35,37,43,48,49,50,3,4,9,17,36,44,49,2,15,17,19,20,25,26,29,34,35,37,38,39,43,46,48,50,51,52,24,29,32,37,48,52,14,20,26,51,55,2,15,18,19,29,31,35,37,39,43,46,51,52,6,11,15,18,19,21,22,27,29,34,35,37,39,46,50,51,54,3,9,17,38,4,9,37,43,1,3,4,5,9,17,45,53,59,1,2,7,9,10,17,18,21,23,24,25,27,29,31,32,37,42,44,46,49,52,54,55,57,61,7,27,30,47,62,5,24,29,32,37,48,52,55,62,5,10,16,27,40,42,62,6,22,29,30,5,27,37,48,58,5,6,7,10,12,13,16,23,27,28,33,40,42,49,66,5,6,7,10,12,13,18,22,23,27,28,29,33,35,37,40,42,47,49,52,59,62,68,2,21,29,37,48,49,50,52,54,57,62,69,10,16,29,33,40,42,69,5,6,7,10,13,16,33,40,42,49,69,38,4,36,38,59,61,62,4,17,38,52,53,61,62,74,5,10,22,42,49,58,62,72,5,7,10,12,13,16,22,23,27,28,29,33,37,40,42,47,49,52,62,63,65,68,69,70,71,72,76,4,17,38,45,59,2,15,18,19,21,29,31,35,37,39,43,46,54,57,62,2,14,15,20,26,29,51,54,56,62,1,37,38,59,73,74,75],"to":[4,4,6,7,7,9,9,9,10,10,12,12,13,13,13,13,15,15,16,16,16,16,17,17,17,18,18,18,19,19,20,20,20,20,20,20,20,21,21,21,21,21,21,22,22,22,22,22,23,23,23,23,23,23,25,25,25,25,26,26,26,26,27,27,27,27,27,27,27,27,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,30,30,30,30,31,31,31,31,31,31,31,31,31,32,32,32,32,33,33,33,33,33,33,34,34,34,34,34,34,35,35,35,35,35,35,35,35,35,36,36,36,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,38,39,39,39,39,39,39,39,39,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,41,42,42,42,42,42,42,42,42,42,42,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,44,44,45,45,45,45,45,45,45,46,46,46,46,46,46,46,46,46,46,46,46,47,47,47,47,47,48,48,48,48,49,49,49,49,49,49,49,49,49,50,50,50,50,50,50,50,50,50,51,51,51,51,51,51,51,51,51,51,51,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,53,53,53,53,53,53,53,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,55,55,55,55,55,55,56,56,56,56,56,57,57,57,57,57,57,57,57,57,57,57,57,57,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,59,59,59,59,60,60,60,60,61,61,61,61,61,61,61,61,61,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,63,63,63,63,63,64,64,64,64,64,64,64,64,64,65,65,65,65,65,65,65,66,66,66,66,67,67,67,67,67,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,70,70,70,70,70,70,70,70,70,70,70,70,71,71,71,71,71,71,71,72,72,72,72,72,72,72,72,72,72,72,73,74,74,74,74,74,74,75,75,75,75,75,75,75,75,76,76,76,76,76,76,76,76,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,78,78,78,78,78,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,80,80,80,80,80,80,80,80,80,80,81,81,81,81,81,81,81],"colour":["#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","value":1,"scaling":{"min":1,"max":200}},"manipulation":{"enabled":false},"physics":{"solver":"forceAtlas2Based","stabilization":true}},"groups":null,"width":"100%","height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script>
<p>Podemos calcular también usando <em>gggraph</em>:</p>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="pagerank-y-análisis-de-redes.html#cb652-1" aria-hidden="true" tabindex="-1"></a>uk_tbl <span class="ot">&lt;-</span> ukf.und <span class="sc">|&gt;</span> <span class="fu">as_tbl_graph</span>() <span class="sc">|&gt;</span></span>
<span id="cb652-2"><a href="pagerank-y-análisis-de-redes.html#cb652-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">|&gt;</span></span>
<span id="cb652-3"><a href="pagerank-y-análisis-de-redes.html#cb652-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nombre =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span></span>
<span id="cb652-4"><a href="pagerank-y-análisis-de-redes.html#cb652-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">importancia =</span> <span class="fu">centrality_eigen</span>())</span>
<span id="cb652-5"><a href="pagerank-y-análisis-de-redes.html#cb652-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(uk_tbl, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span></span>
<span id="cb652-6"><a href="pagerank-y-análisis-de-redes.html#cb652-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">alpha=</span><span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb652-7"><a href="pagerank-y-análisis-de-redes.html#cb652-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> importancia<span class="sc">^</span><span class="dv">2</span>, <span class="at">colour =</span> <span class="fu">factor</span>(Group))) <span class="sc">+</span></span>
<span id="cb652-8"><a href="pagerank-y-análisis-de-redes.html#cb652-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_graph</span>(<span class="at">base_family =</span> <span class="st">&#39;sans&#39;</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="gráficas-dirigidas" class="section level2" number="7.5">
<h2><span class="header-section-number">7.5</span> Gráficas dirigidas</h2>
<p>Estos conceptos pueden aplicarse también para gráficas dirigidas, cuando hay un concepto de dirección en las relaciones de los nodos.</p>
<ul>
<li>In degree, out degree.</li>
<li>Betweenness puede definirse en función de caminos dirigidos.</li>
<li>Cercanía también (in closeness, out closeness).</li>
<li>Centralidad de eigenvector: misma idea, pero la matriz <span class="math inline">\(A\)</span> no es simétrica. En este caso, <span class="math inline">\(A_{ij} = 1\)</span> cuando hay una arista que va de <span class="math inline">\(i\)</span> a <span class="math inline">\(j\)</span>.</li>
</ul>
<p>Consideremos en particular cómo se calcula la centralidad de eigenvector para una red dirigida.</p>
<div class="sourceCode" id="cb653"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb653-1"><a href="pagerank-y-análisis-de-redes.html#cb653-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">28011</span>)</span>
<span id="cb653-2"><a href="pagerank-y-análisis-de-redes.html#cb653-2" aria-hidden="true" tabindex="-1"></a>red_6 <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">erdos.renyi.game</span>(<span class="dv">5</span>, <span class="at">p.or.m=</span><span class="fl">0.5</span>, <span class="at">directed=</span>T)</span>
<span id="cb653-3"><a href="pagerank-y-análisis-de-redes.html#cb653-3" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb653-4"><a href="pagerank-y-análisis-de-redes.html#cb653-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(red_6, <span class="at">vertex.size=</span><span class="dv">40</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-33-1.png" width="200px" height="200px" /></p>
<p>Su matriz de adyacencia es no simétrica</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb654-1"><a href="pagerank-y-análisis-de-redes.html#cb654-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red_6)</span>
<span id="cb654-2"><a href="pagerank-y-análisis-de-redes.html#cb654-2" aria-hidden="true" tabindex="-1"></a>A</span></code></pre></div>
<pre><code>## 5 x 5 sparse Matrix of class &quot;dgCMatrix&quot;
##               
## [1,] . . 1 1 1
## [2,] 1 . 1 . 1
## [3,] . 1 . . 1
## [4,] 1 1 . . .
## [5,] 1 1 . 1 .</code></pre>
<p>Para este ejemplo, las ecuaciones de importancia son como sigue. Para el nodo <span class="math inline">\(1\)</span>,
<span class="math display">\[\lambda x_1 = x_2 + x_4 + x_5\]</span>
para el nodo 5, por ejemplo, es
<span class="math display">\[\lambda x_5 = x_1 + x_2 + x_3\]</span>
y así sucesivamente.</p>
<p>Obsérvese que en cada ecuación se consideran las aristas <em>entrantes</em>, de forma que la ecuación del nodo <span class="math inline">\(1\)</span> requiere la columna <span class="math inline">\(1\)</span> de la matriz de adyacencia, el nodo <span class="math inline">\(2\)</span> la columna <span class="math inline">\(2\)</span>, etc. Es decir, la ecuación que debemos resolver es</p>
<p><span class="math display">\[A^t x = \lambda x\]</span></p>
<p>En el ejemplo anterior,</p>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb656-1"><a href="pagerank-y-análisis-de-redes.html#cb656-1" aria-hidden="true" tabindex="-1"></a>desc_A <span class="ot">&lt;-</span> <span class="fu">eigen</span>(<span class="fu">t</span>(<span class="fu">as.matrix</span>(A)))</span>
<span id="cb656-2"><a href="pagerank-y-análisis-de-redes.html#cb656-2" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> desc_A<span class="sc">$</span>vectors[,<span class="dv">1</span>]</span>
<span id="cb656-3"><a href="pagerank-y-análisis-de-redes.html#cb656-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">as.numeric</span>(v <span class="sc">/</span> <span class="fu">sum</span>(v)), <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 0.23 0.21 0.16 0.17 0.23</code></pre>
<p>¿Cuándo podemos garantizar unicidad en la solución de <span class="math inline">\(A^tx=\lambda x\)</span> con <span class="math inline">\(\lambda &gt; 0\)</span>?</p>
<p>Sea <span class="math inline">\(A\)</span> la matriz de adyacencia de una gráfica dirigida. Igual que en el caso
de gráficas no dirigidas:</p>
<ul>
<li>Si la gráfica asociada a <span class="math inline">\(A\)</span> es fuertemente conexa (para cualquier par de vértices hay caminos <span class="math inline">\(i\to j\)</span> y <span class="math inline">\(j\to i\)</span>) entonces decimos que <span class="math inline">\(A\)</span> es <strong>irreducible</strong>.</li>
<li>Igualmente, <span class="math inline">\(A\)</span> es irreducible si y sólo si para cualquier <span class="math inline">\(i,j\)</span> existe una
<span class="math inline">\(m&gt;0\)</span> tal que <span class="math inline">\((A^m)_{i,j}&gt;0\)</span>.</li>
</ul>
<p>Y podemos igualmente aplicar Perron-Frobenius, de donde concluimos:</p>

<div class="resumen">
Si <span class="math inline">\(A\)</span> es irreducible, entonces <span class="math inline">\(\lambda_0 &gt; 0\)</span> es un eigenvector simple de <span class="math inline">\(A\)</span>, un vector propio asociado <span class="math inline">\(x\)</span> tiene entradas positivas, y no existe ningún otro vector propio con entradas no negativas que no sea paralelo a <span class="math inline">\(x\)</span>.
</div>
<p>Y entonces podemos definir una medida única de centralidad módulo una constante multiplicativa.</p>
<div id="ejemplos-qué-pasa-si-a-es-no-reducible" class="section level3 unnumbered">
<h3>Ejemplos: ¿qué pasa si <span class="math inline">\(A\)</span> es no reducible?</h3>
<p>Hay distintas maneras en que la matriz no es reducible, y cada una
de ellas contradice algún aspecto del teorema de Perron Frobenius.</p>
<p>Por ejemplo, si la gráfica es conexa pero no fuertemente conexa,
podemos tener vectores propios no positivos (algunos nodos resultan
con peso <span class="math inline">\(0\)</span>):</p>
<div class="sourceCode" id="cb658"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb658-1"><a href="pagerank-y-análisis-de-redes.html#cb658-1" aria-hidden="true" tabindex="-1"></a>red <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">3</span>), <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb658-2"><a href="pagerank-y-análisis-de-redes.html#cb658-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red, <span class="at">vertex.size =</span> <span class="dv">40</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-37-1.png" width="200px" height="200px" /></p>
<div class="sourceCode" id="cb659"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb659-1"><a href="pagerank-y-análisis-de-redes.html#cb659-1" aria-hidden="true" tabindex="-1"></a>A_red <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red))</span>
<span id="cb659-2"><a href="pagerank-y-análisis-de-redes.html#cb659-2" aria-hidden="true" tabindex="-1"></a>A_red</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    0    1    0    0
## [2,]    0    0    1    0
## [3,]    0    0    0    1
## [4,]    0    0    1    0</code></pre>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb661-1"><a href="pagerank-y-análisis-de-redes.html#cb661-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eigen</span>(<span class="fu">t</span>(A_red)) <span class="sc">|&gt;</span> <span class="fu">map</span>( <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">2</span>))</span></code></pre></div>
<pre><code>## $values
## [1]  1 -1  0  0
## 
## $vectors
##      [,1]  [,2]  [,3]  [,4]
## [1,] 0.00  0.00  0.00  0.00
## [2,] 0.00  0.00  0.71 -0.71
## [3,] 0.71  0.71  0.00  0.00
## [4,] 0.71 -0.71 -0.71  0.71</code></pre>
<p>Si la gráfica es disconexa, podemos tener valores propios no
simples con distintos
vectores propios no negativos:</p>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb663-1"><a href="pagerank-y-análisis-de-redes.html#cb663-1" aria-hidden="true" tabindex="-1"></a>red <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>), <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb663-2"><a href="pagerank-y-análisis-de-redes.html#cb663-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red, <span class="at">vertex.size =</span> <span class="dv">20</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-38-1.png" width="200px" height="200px" /></p>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb664-1"><a href="pagerank-y-análisis-de-redes.html#cb664-1" aria-hidden="true" tabindex="-1"></a>A_red <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red))</span>
<span id="cb664-2"><a href="pagerank-y-análisis-de-redes.html#cb664-2" aria-hidden="true" tabindex="-1"></a>A_red</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    0    1    0    0    0
## [2,]    0    0    1    0    0
## [3,]    0    1    0    0    0
## [4,]    0    0    0    0    1
## [5,]    0    0    0    1    0</code></pre>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb666-1"><a href="pagerank-y-análisis-de-redes.html#cb666-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eigen</span>(<span class="fu">t</span>(A_red))<span class="sc">|&gt;</span> <span class="fu">map</span>( <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">2</span>))</span></code></pre></div>
<pre><code>## $values
## [1]  1 -1  1 -1  0
## 
## $vectors
##      [,1]  [,2] [,3]  [,4]  [,5]
## [1,] 0.00  0.00 0.00  0.00  0.71
## [2,] 0.00  0.00 0.71 -0.71  0.00
## [3,] 0.00  0.00 0.71  0.71 -0.71
## [4,] 0.71 -0.71 0.00  0.00  0.00
## [5,] 0.71  0.71 0.00  0.00  0.00</code></pre>
<p>O ningún valor propio positivo:</p>
<div class="sourceCode" id="cb668"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb668-1"><a href="pagerank-y-análisis-de-redes.html#cb668-1" aria-hidden="true" tabindex="-1"></a>red <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb668-2"><a href="pagerank-y-análisis-de-redes.html#cb668-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red, <span class="at">vertex.size =</span> <span class="dv">20</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-39-1.png" width="200px" height="200px" /></p>
<div class="sourceCode" id="cb669"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb669-1"><a href="pagerank-y-análisis-de-redes.html#cb669-1" aria-hidden="true" tabindex="-1"></a>A_red <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red))</span>
<span id="cb669-2"><a href="pagerank-y-análisis-de-redes.html#cb669-2" aria-hidden="true" tabindex="-1"></a>A_red</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    0    1    0
## [2,]    0    0    1
## [3,]    0    0    0</code></pre>
<div class="sourceCode" id="cb671"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb671-1"><a href="pagerank-y-análisis-de-redes.html#cb671-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eigen</span>(<span class="fu">t</span>(A_red)) <span class="sc">|&gt;</span> <span class="fu">map</span>( <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">2</span>))</span></code></pre></div>
<pre><code>## $values
## [1] 0 0 0
## 
## $vectors
##      [,1] [,2] [,3]
## [1,]    0    0    0
## [2,]    0    0    0
## [3,]    1   -1    1</code></pre>
</div>
</div>
<div id="pagerank" class="section level2" number="7.6">
<h2><span class="header-section-number">7.6</span> Pagerank</h2>
<p>Pagerank es una medida similar a la centralidad de eigenvector:</p>
<ul>
<li>La importancia de una página (nodo) es un promedio ponderado de las importancias de otras páginas que apuntan (ligan) hacia ella.</li>
<li>Diferencia: usamos <strong>gráficas dirigidas</strong>, y <strong>distribuimos el peso de las aristas dependiendo
de cuántas ligas hacia afuera tiene una página</strong>: es decir, la importancia de una página se diluye entre el número de ligas a sus hijos.</li>
</ul>
<p>Esto tiene sentido pues si tenemos una página importante que apunta a pocas páginas,
debe dar más importancia a estas pocas páginas que si apuntara a muchas páginas.</p>
<p>Para una red dirigida de páginas de internet, definimos entonces su <strong>matriz de transición</strong> <span class="math inline">\(M\)</span>
como sigue:</p>
<ul>
<li><span class="math inline">\(M_{ij} =1/k\)</span> si la página <span class="math inline">\(i\)</span> tiene <span class="math inline">\(k\)</span> ligas hacia afuera, y una de ellas va a la página <span class="math inline">\(j\)</span></li>
<li><span class="math inline">\(M_{ij} = 0\)</span> en otro caso.</li>
</ul>
<p>Intentaremos hacer algo similar a la centralidad de eigenvector, pero usando la matriz de transición en lugar de la matriz de adyacencia.</p>
<div id="ejemplo-24" class="section level3 unnumbered">
<h3>Ejemplo</h3>
<div class="sourceCode" id="cb673"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb673-1"><a href="pagerank-y-análisis-de-redes.html#cb673-1" aria-hidden="true" tabindex="-1"></a>red_p <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb673-2"><a href="pagerank-y-análisis-de-redes.html#cb673-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb673-3"><a href="pagerank-y-análisis-de-redes.html#cb673-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(red_p, <span class="at">vertex.size=</span><span class="dv">40</span>, <span class="at">edge.curved=</span>T, <span class="at">edge.arrow.size=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-40-1.png" width="200px" height="200px" /></p>
<p>La matriz de adyacencia no necesariamente es simétrica, pues la gráfica es dirigida:</p>
<div class="sourceCode" id="cb674"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb674-1"><a href="pagerank-y-análisis-de-redes.html#cb674-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red_p)</span>
<span id="cb674-2"><a href="pagerank-y-análisis-de-redes.html#cb674-2" aria-hidden="true" tabindex="-1"></a>A</span></code></pre></div>
<pre><code>## 4 x 4 sparse Matrix of class &quot;dgCMatrix&quot;
##             
## [1,] . 1 1 1
## [2,] 1 . 1 1
## [3,] 1 . . .
## [4,] . . 1 .</code></pre>
<p>Y calculamos la matriz M, que es la matriz <span class="math inline">\(A\)</span> con los renglones normalizados por
su suma:</p>
<div class="sourceCode" id="cb676"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb676-1"><a href="pagerank-y-análisis-de-redes.html#cb676-1" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> A <span class="sc">/</span> Matrix<span class="sc">::</span><span class="fu">rowSums</span>(A)</span>
<span id="cb676-2"><a href="pagerank-y-análisis-de-redes.html#cb676-2" aria-hidden="true" tabindex="-1"></a>M</span></code></pre></div>
<pre><code>## 4 x 4 sparse Matrix of class &quot;dgCMatrix&quot;
##                                             
## [1,] .         0.3333333 0.3333333 0.3333333
## [2,] 0.3333333 .         0.3333333 0.3333333
## [3,] 1.0000000 .         .         .        
## [4,] .         .         1.0000000 .</code></pre>
</div>
<div id="la-matriz-m-es-estocástica" class="section level3" number="7.6.1">
<h3><span class="header-section-number">7.6.1</span> La matriz <span class="math inline">\(M\)</span> es estocástica</h3>
<p>A la matriz <span class="math inline">\(M\)</span> le llamamos una <strong>matriz estocástica</strong>, pues cada uno
de sus renglones son no negativos y suman <span class="math inline">\(1\)</span>. Bajo este supuesto, es posible
demostrar otra versión del teorema de Perron Frobenius:</p>

<div class="resumen">
<p><strong>Principio del Pagerank</strong></p>
<p>Supongamos que <span class="math inline">\(M\)</span> es irreducible, que en el caso dirigido quiere decir que la red
es <em>fuertemente conexa</em>: existe un camino <em>dirigido</em> entre cualquier par de vértices.</p>
<ul>
<li>Entonces el valor propio de Perron-Frobenius (simple) para <span class="math inline">\(M^t\)</span> es <span class="math inline">\(\lambda_0=1\)</span>, y el único vector
propio no negativo (módulo longitud) es estrictamente positivo y asociado a <span class="math inline">\(\lambda_0=1\)</span>.</li>
</ul>
<p>Esto implica que si <span class="math inline">\(r\)</span> es el vector de importancias según pagerank, entonces <span class="math inline">\(r\)</span> debe satisfacer</p>
<p><span class="math display">\[r_j = \sum_{i\to j}  \frac{r_i}{d_i}\]</span></p>
donde la suma es sobre las ligas de entrada a <span class="math inline">\(j\)</span>, y <span class="math inline">\(d_i\)</span> es el grado de salida del nodo <span class="math inline">\(i\)</span> (dividimos la importancia de <span class="math inline">\(r_i\)</span> sobre todas sus aristas de salida). En forma matricial, esto se escribe como:
<span class="math display">\[M^tr = r.\]</span>
</div>
<div id="ejercicio-9" class="section level4 unnumbered">
<h4>Ejercicio</h4>
<p>Escribe las ecuaciones de las dos formas mostradas arriba para la
red</p>
<div class="sourceCode" id="cb678"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb678-1"><a href="pagerank-y-análisis-de-redes.html#cb678-1" aria-hidden="true" tabindex="-1"></a>red_p </span></code></pre></div>
<pre><code>## IGRAPH 59d0d14 D--- 4 8 -- 
## + edges from 59d0d14:
## [1] 1-&gt;2 1-&gt;4 1-&gt;3 2-&gt;1 2-&gt;4 3-&gt;1 4-&gt;3 2-&gt;3</code></pre>
</div>
<div id="ejemplo-pagerank-simple" class="section level4 unnumbered">
<h4>Ejemplo: pagerank simple</h4>
<div class="sourceCode" id="cb680"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb680-1"><a href="pagerank-y-análisis-de-redes.html#cb680-1" aria-hidden="true" tabindex="-1"></a>decomp <span class="ot">&lt;-</span> <span class="fu">eigen</span>(<span class="fu">t</span>(<span class="fu">as.matrix</span>(M)))</span>
<span id="cb680-2"><a href="pagerank-y-análisis-de-redes.html#cb680-2" aria-hidden="true" tabindex="-1"></a>decomp</span></code></pre></div>
<pre><code>## eigen() decomposition
## $values
## [1]  1.0000000+0.0000000i -0.3333333+0.4714045i -0.3333333-0.4714045i
## [4] -0.3333333+0.0000000i
## 
## $vectors
##              [,1]                  [,2]                  [,3]             [,4]
## [1,] 0.6902685+0i  0.7071068+0.0000000i  0.7071068+0.0000000i  7.071068e-01+0i
## [2,] 0.2300895+0i -0.2357023-0.3333333i -0.2357023+0.3333333i -7.071068e-01+0i
## [3,] 0.6135720+0i -0.1571348+0.4444444i -0.1571348-0.4444444i -2.919335e-16+0i
## [4,] 0.3067860+0i -0.3142697-0.1111111i -0.3142697+0.1111111i -3.184729e-16+0i</code></pre>
<div class="sourceCode" id="cb682"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb682-1"><a href="pagerank-y-análisis-de-redes.html#cb682-1" aria-hidden="true" tabindex="-1"></a>vec_1 <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">as.numeric</span>(decomp<span class="sc">$</span>vector[,<span class="dv">1</span>]))</span>
<span id="cb682-2"><a href="pagerank-y-análisis-de-redes.html#cb682-2" aria-hidden="true" tabindex="-1"></a>vec_1</span></code></pre></div>
<pre><code>## [1] 0.6902685 0.2300895 0.6135720 0.3067860</code></pre>
<div class="sourceCode" id="cb684"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb684-1"><a href="pagerank-y-análisis-de-redes.html#cb684-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(vec_1<span class="sc">/</span><span class="fu">sum</span>(vec_1), <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 0.38 0.12 0.33 0.17</code></pre>
<div class="sourceCode" id="cb686"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb686-1"><a href="pagerank-y-análisis-de-redes.html#cb686-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb686-2"><a href="pagerank-y-análisis-de-redes.html#cb686-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(red_p, <span class="at">vertex.size=</span><span class="dv">100</span><span class="sc">*</span>vec_1, </span>
<span id="cb686-3"><a href="pagerank-y-análisis-de-redes.html#cb686-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">edge.curved=</span>T, <span class="at">edge.arrow.size=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-46-1.png" width="200px" height="200px" /></p>
<p>¿Por qué <span class="math inline">\(1\)</span> tiene mayor importancia que <span class="math inline">\(3\)</span>? Nótese que el nodo <span class="math inline">\(3\)</span> tiene mayor grado que <span class="math inline">\(1\)</span>. La razón de
que el pagerank de <span class="math inline">\(1\)</span> es mayor que el de <span class="math inline">\(3\)</span> es que la importancia
del nodo <span class="math inline">\(1\)</span> se diluye pues tiene grado <span class="math inline">\(3\)</span> de salida, mientras
que toda la importancia de <span class="math inline">\(3\)</span> se comunica al nodo <span class="math inline">\(1\)</span>.</p>
</div>
</div>
<div id="primeras-dificultades" class="section level3" number="7.6.2">
<h3><span class="header-section-number">7.6.2</span> Primeras dificultades</h3>
<p>¿Qué puede fallar cuando queremos encontrar el pagerank de un gráfica
que representa sitios de internet, por ejemplo?</p>
<ul>
<li>Si existen <strong>callejones sin salida</strong> la matriz <span class="math inline">\(M\)</span> no es estocástica, pues tiene un renglón de ceros - no podemos aplicar la teoría de arriba. Por ejemplo, la siguiente matriz no tiene un valor propio igual a <span class="math inline">\(1\)</span> (conclusión invalidada: hay un valor propio igual a <span class="math inline">\(1\)</span>):</li>
</ul>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="pagerank-y-análisis-de-redes.html#cb687-1" aria-hidden="true" tabindex="-1"></a>red_p <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb687-2"><a href="pagerank-y-análisis-de-redes.html#cb687-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red_p, <span class="at">vertex.size=</span><span class="dv">30</span>, <span class="at">edge.curved=</span>T,<span class="at">edge.arrow.size=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-47-1.png" width="200px" height="200px" /></p>
<div class="sourceCode" id="cb688"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb688-1"><a href="pagerank-y-análisis-de-redes.html#cb688-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red_p)</span>
<span id="cb688-2"><a href="pagerank-y-análisis-de-redes.html#cb688-2" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">scale</span>(<span class="fu">t</span>(<span class="fu">as.matrix</span>(A)), <span class="at">center=</span><span class="cn">FALSE</span>, <span class="at">scale=</span><span class="fu">apply</span>(A,<span class="dv">1</span>,sum)))</span>
<span id="cb688-3"><a href="pagerank-y-análisis-de-redes.html#cb688-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ponemos cero porque ni siquiera se puede normalizar:</span></span>
<span id="cb688-4"><a href="pagerank-y-análisis-de-redes.html#cb688-4" aria-hidden="true" tabindex="-1"></a>M[<span class="dv">3</span>, ]  <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb688-5"><a href="pagerank-y-análisis-de-redes.html#cb688-5" aria-hidden="true" tabindex="-1"></a><span class="fu">eigen</span>(<span class="fu">t</span>(M))</span></code></pre></div>
<pre><code>## eigen() decomposition
## $values
## [1]  0.7071068 -0.7071068  0.0000000
## 
## $vectors
##           [,1]       [,2] [,3]
## [1,] 0.7071068  0.7071068    0
## [2,] 0.5000000 -0.5000000    0
## [3,] 0.5000000 -0.5000000    1</code></pre>
<ul>
<li>Si existen <strong>trampas de telaraña</strong> (spider traps) entonces la matriz <span class="math inline">\(M\)</span> es estocástica, pero las soluciones concentran toda la importancia en la trampa (en este caso consiste de los nodos <span class="math inline">\(1\)</span> y <span class="math inline">\(2\)</span>) (conclusión invalidada: el vector de importancias
asociado al eigenvalor <span class="math inline">\(1\)</span> es positivo).</li>
</ul>
<div class="sourceCode" id="cb690"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb690-1"><a href="pagerank-y-análisis-de-redes.html#cb690-1" aria-hidden="true" tabindex="-1"></a>red_p <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">3</span>))</span>
<span id="cb690-2"><a href="pagerank-y-análisis-de-redes.html#cb690-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red_p, <span class="at">vertex.size=</span><span class="dv">30</span>, <span class="at">edge.curved=</span>T,<span class="at">edge.arrow.size=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-48-1.png" width="200px" height="200px" /></p>
<div class="sourceCode" id="cb691"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb691-1"><a href="pagerank-y-análisis-de-redes.html#cb691-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red_p)</span>
<span id="cb691-2"><a href="pagerank-y-análisis-de-redes.html#cb691-2" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">scale</span>(<span class="fu">t</span>(<span class="fu">as.matrix</span>(A)), <span class="at">center =</span> <span class="cn">FALSE</span>, <span class="at">scale =</span> <span class="fu">apply</span>(A,<span class="dv">1</span>,sum)))</span>
<span id="cb691-3"><a href="pagerank-y-análisis-de-redes.html#cb691-3" aria-hidden="true" tabindex="-1"></a><span class="fu">eigen</span>(<span class="fu">t</span>(M))</span></code></pre></div>
<pre><code>## eigen() decomposition
## $values
## [1]  1.0000000+0.0000000i -1.0000000+0.0000000i  0.7937005+0.0000000i
## [4] -0.3968503+0.6873648i -0.3968503-0.6873648i
## 
## $vectors
##              [,1]          [,2]          [,3]                  [,4]
## [1,] 0.7071068+0i -0.7071068+0i  0.4794851+0i  0.0242710-0.1851728i
## [2,] 0.7071068+0i  0.7071068+0i  0.6041134+0i -0.2173362+0.0901689i
## [3,] 0.0000000+0i  0.0000000+0i -0.4470916+0i  0.6699710+0.0000000i
## [4,] 0.0000000+0i  0.0000000+0i -0.2816501+0i -0.2110276-0.3655106i
## [5,] 0.0000000+0i  0.0000000+0i -0.3548568+0i -0.2658782+0.4605145i
##                       [,5]
## [1,]  0.0242710+0.1851728i
## [2,] -0.2173362-0.0901689i
## [3,]  0.6699710+0.0000000i
## [4,] -0.2110276+0.3655106i
## [5,] -0.2658782-0.4605145i</code></pre>
<ul>
<li>La red puede ser <strong>disconexa</strong>. Por ejemplo, cuando hay dos componentes irreducibles, existe más de un vector propio asociado al valor propio <span class="math inline">\(1\)</span> (conclusión invalidada: la solución es única y el valor propio <span class="math inline">\(1\)</span> es simple), así que hay tantas soluciones como combinaciones lineales de los eigenvectores que aparecen:</li>
</ul>
<div class="sourceCode" id="cb693"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb693-1"><a href="pagerank-y-análisis-de-redes.html#cb693-1" aria-hidden="true" tabindex="-1"></a>red_p <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb693-2"><a href="pagerank-y-análisis-de-redes.html#cb693-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red_p, <span class="at">vertex.size=</span><span class="dv">30</span>,</span>
<span id="cb693-3"><a href="pagerank-y-análisis-de-redes.html#cb693-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">edge.curved=</span>T,<span class="at">edge.arrow.size=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-49-1.png" width="200px" height="200px" /></p>
<div class="sourceCode" id="cb694"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb694-1"><a href="pagerank-y-análisis-de-redes.html#cb694-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red_p) <span class="sc">|&gt;</span> <span class="fu">as.matrix</span>()</span>
<span id="cb694-2"><a href="pagerank-y-análisis-de-redes.html#cb694-2" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">scale</span>(<span class="fu">t</span>(A), <span class="at">center=</span><span class="cn">FALSE</span>, <span class="at">scale=</span><span class="fu">apply</span>(A,<span class="dv">1</span>,sum)))</span>
<span id="cb694-3"><a href="pagerank-y-análisis-de-redes.html#cb694-3" aria-hidden="true" tabindex="-1"></a>M</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]    0    1    0  0.0  0.0    0
## [2,]    0    0    1  0.0  0.0    0
## [3,]    1    0    0  0.0  0.0    0
## [4,]    0    0    0  0.0  1.0    0
## [5,]    0    0    0  0.0  0.0    1
## [6,]    0    0    0  0.5  0.5    0
## attr(,&quot;scaled:scale&quot;)
## [1] 1 1 1 1 1 2</code></pre>
<div class="sourceCode" id="cb696"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb696-1"><a href="pagerank-y-análisis-de-redes.html#cb696-1" aria-hidden="true" tabindex="-1"></a>sol <span class="ot">&lt;-</span> <span class="fu">eigen</span>(<span class="fu">t</span>(M))</span>
<span id="cb696-2"><a href="pagerank-y-análisis-de-redes.html#cb696-2" aria-hidden="true" tabindex="-1"></a>sol</span></code></pre></div>
<pre><code>## eigen() decomposition
## $values
## [1]  1.0+0.0000000i -0.5+0.8660254i -0.5-0.8660254i  1.0+0.0000000i
## [5] -0.5+0.5000000i -0.5-0.5000000i
## 
## $vectors
##              [,1]            [,2]            [,3]          [,4]
## [1,] 0.0000000+0i  0.5773503+0.0i  0.5773503+0.0i -0.5773503+0i
## [2,] 0.0000000+0i -0.2886751-0.5i -0.2886751+0.5i -0.5773503+0i
## [3,] 0.0000000+0i -0.2886751+0.5i -0.2886751-0.5i -0.5773503+0i
## [4,] 0.3333333+0i  0.0000000+0.0i  0.0000000+0.0i  0.0000000+0i
## [5,] 0.6666667+0i  0.0000000+0.0i  0.0000000+0.0i  0.0000000+0i
## [6,] 0.6666667+0i  0.0000000+0.0i  0.0000000+0.0i  0.0000000+0i
##                       [,5]                  [,6]
## [1,]  0.0000000+0.0000000i  0.0000000+0.0000000i
## [2,]  0.0000000+0.0000000i  0.0000000+0.0000000i
## [3,]  0.0000000+0.0000000i  0.0000000+0.0000000i
## [4,]  0.3535534+0.3535534i  0.3535534-0.3535534i
## [5,]  0.3535534-0.3535534i  0.3535534+0.3535534i
## [6,] -0.7071068+0.0000000i -0.7071068+0.0000000i</code></pre>
<div class="sourceCode" id="cb698"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb698-1"><a href="pagerank-y-análisis-de-redes.html#cb698-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(sol<span class="sc">$</span>values,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1]  1.0+0.00i -0.5+0.87i -0.5-0.87i  1.0+0.00i -0.5+0.50i -0.5-0.50i</code></pre>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="pagerank-y-análisis-de-redes.html#cb700-1" aria-hidden="true" tabindex="-1"></a>vec <span class="ot">&lt;-</span> sol<span class="sc">$</span>vectors[,<span class="fu">abs</span>(sol<span class="sc">$</span>values<span class="dv">-1</span>) <span class="sc">&lt;</span> <span class="fl">1e-8</span>]</span>
<span id="cb700-2"><a href="pagerank-y-análisis-de-redes.html#cb700-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Re</span>(vec)</span></code></pre></div>
<pre><code>##           [,1]       [,2]
## [1,] 0.0000000 -0.5773503
## [2,] 0.0000000 -0.5773503
## [3,] 0.0000000 -0.5773503
## [4,] 0.3333333  0.0000000
## [5,] 0.6666667  0.0000000
## [6,] 0.6666667  0.0000000</code></pre>
<p>En términos de nuestra solución para dar importancia de páginas:</p>
<ul>
<li>No es razonable que nuestra solución concentre toda la importancia en spider traps.</li>
<li>Si la gráfica es disconexa no podemos dar importancia relativa a las componentes resultantes.</li>
<li>Si hay callejones sin salida entonces nuestra formulación no sirve.</li>
</ul>
<hr />
<p>Para encontrar una solución, podemos pensar en el proceso estocástico asociado a esta formulación de pagerank.</p>
</div>
<div id="el-proceso-estocástico-cadena-de-markov-asociado-al-pagerank-versión-simple" class="section level3" number="7.6.3">
<h3><span class="header-section-number">7.6.3</span> El proceso estocástico (cadena de Markov) asociado al Pagerank, versión simple</h3>
<p>Podemos interpretar este proceso mediante una cadena de Markov.
Consideramos una persona que navega al azar en nuestra red (haciendo click
en las ligas disponibles en cada nodo):</p>
<ul>
<li>Comienza en una página tomada al azar (equiprobable).</li>
<li>Cada vez que llega a una página, escoge al azar alguna de las páginas ligadas en su página actual y navega hacia ella.</li>
<li><strong>Suponemos por el momento que no hay callejones sin salida</strong> (estos evitan que pueda saltar a otro lado).</li>
</ul>
<p>La pregunta que queremos contestar: <strong>¿cuál es la probabilidad que en distintos
momentos el navegador aleatorio se encuentre en una página dada?</strong> Claramente
páginas que tienen muchas ligas de entrada (son importantes) tendrán más visitas, y más aún
si estas ligas de entrada provienen de nodos con muchas ligas de entrada (es decir,
a su vez son importantes). Sin embargo, es necesario hacer algunos refinamientos
si queremos contestar de manera simple esta pregunta.</p>
<p>Denotamos por <span class="math inline">\(X_1, X_2,\ldots\)</span> la posición del navegador en cada momento del tiempo. Cada <span class="math inline">\(X_i\)</span> es una variable aleatoria que toma valores en los nodos <span class="math inline">\(\{1,2,\ldots,n\}\)</span>.</p>
<ul>
<li><span class="math inline">\(X_1, X_2,\ldots\)</span> es un proceso estocástico discreto en tiempo discreto.</li>
<li>Para determinar un proceso estocástico, debemos dar la distribución
conjunta de cualquier subconjunto <span class="math inline">\(X_{s_1},X_{s_2},\ldots, X_{s_k}\)</span> de variables. En este
caso, la posición en <span class="math inline">\(s+1\)</span> sólo depende de la posición en el momento <span class="math inline">\(s\)</span>, de forma
que basta con especificar
<span class="math display">\[P(X_{s+1}=j\vert X_s=i) = P_{ij}, \]</span>
para cada par de páginas <span class="math inline">\(i\)</span> y <span class="math inline">\(j\)</span>.</li>
</ul>
</div>
<div id="matriz-de-transición" class="section level3" number="7.6.4">
<h3><span class="header-section-number">7.6.4</span> Matriz de transición</h3>
<p>Ahora podemos ver que</p>
<ul>
<li>Si hay una liga de <span class="math inline">\(i\)</span> a <span class="math inline">\(j\)</span>, entonces <span class="math inline">\(P_{ij}=1/k(i)\)</span>, donde <span class="math inline">\(k(i)\)</span> es el número
de ligas salientes de <span class="math inline">\(i\)</span>.</li>
<li>Si no hay liga de <span class="math inline">\(i\)</span> a <span class="math inline">\(j\)</span>, entonces <span class="math inline">\(P_{ij}=0\)</span>.</li>
</ul>
<p>Es claro que <span class="math inline">\(P\)</span> es igual a la matriz <span class="math inline">\(M\)</span> que definimos con anterioridad.</p>
</div>
<div id="distribución-de-equilibrio-versión-simple" class="section level3" number="7.6.5">
<h3><span class="header-section-number">7.6.5</span> Distribución de equilibrio (versión simple)</h3>
<p>La matriz <span class="math inline">\(P\)</span> es estocástica. Si suponemos que <span class="math inline">\(P\)</span> es irreducible (la gráfica es fuertemente conexa), entonces por la teoría que vimos arriba
existe un vector <span class="math inline">\(\pi &gt; 0\)</span> tal que <span class="math inline">\(P^t\pi = \pi\)</span>.</p>
<p>Ahora podemos interpretar este vector en términos del navegador aleatorio:</p>
<ul>
<li>En términos del modelo del navegador aleatorio, ¿ qué
significa entonces que un vector <span class="math inline">\(\pi\)</span> satisfaga <span class="math inline">\(P^t \pi = \pi\)</span>, con <span class="math inline">\(\pi \geq 0\)</span>?</li>
</ul>
<p>Suponemos <span class="math inline">\(\pi\)</span> normalizado por la suma: <span class="math inline">\(\sum_i \pi_i=1\)</span>.</p>
<ul>
<li>Significa que si escogemos un estado al azar con probabilidad <span class="math inline">\(\pi\)</span>, entonces, después de un salto, las probabilidades de encontrar al navegador en cada estado está dado también por <span class="math inline">\(\pi\)</span>.</li>
<li>Igualmente, la probabilidad de encontrar al navegador en cualquier momento en el estado <span class="math inline">\(i\)</span> es igual a <span class="math inline">\(\pi_i\)</span>.</li>
<li>Por esta razón, a <span class="math inline">\(\pi\)</span> se le llama una <strong>distribución de equilibro</strong> para
el proceso del navegador aleatorio.</li>
</ul>
</div>
<div id="distribución-de-equilibrio-y-probabilidades-a-largo-plazo" class="section level3" number="7.6.6">
<h3><span class="header-section-number">7.6.6</span> Distribución de equilibrio y probabilidades a largo plazo</h3>
<p>Sin embargo, en un principio no conocemos la distribución de
equilibrio <span class="math inline">\(\pi\)</span>. Lo que haríamos sería escoger un nodo al azar y comenzar
a navegar desde ahí, o quizá empezaríamos en un nodo fijo, por ejemplo, el <span class="math inline">\(1\)</span>, y
nuestra pregunta sigue siendo <strong>¿cuál es la probabilidad que en distintos
momentos el navegador aleatorio se encuentre en una página dada?</strong></p>
<p>En primer lugar, necesitamos el supuesto de conexidad fuerte (irreducibilidad),
pues en otro caso los lugares donde puede estar el navegador aleatorio
dependen de dónde empezo, y la respuesta es más complicada. Veremos
que además, necesitamos un supuesto de aperiodicidad, pues ciclos periódicos
en la red puede forzar a que sólo en ciertos momentos sean permitidos
ciertos estados, otra vez, dependiendo de dónde empezó el navegador aleatorio.</p>
<p>Requerimos entonces:</p>
<ul>
<li>Conexidad fuerte (irreducibilidad)</li>
<li>Aperiodicidad</li>
</ul>
<p>Veremos ahora por qué la periodicidad puede ser un problema.</p>
<div id="ejemplo-periodicidad" class="section level4 unnumbered">
<h4>Ejemplo: periodicidad</h4>
<p>Consideremos este ejemplo fuertemente conexo (irreducible), con un ciclo de
tamaño <span class="math inline">\(3\)</span>:</p>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="pagerank-y-análisis-de-redes.html#cb702-1" aria-hidden="true" tabindex="-1"></a>red_p <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>))</span>
<span id="cb702-2"><a href="pagerank-y-análisis-de-redes.html#cb702-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red_p, <span class="at">vertex.size=</span><span class="dv">30</span>, <span class="at">edge.curved=</span>T,<span class="at">edge.arrow.size=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-50-1.png" width="200px" height="200px" /></p>
<div class="sourceCode" id="cb703"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb703-1"><a href="pagerank-y-análisis-de-redes.html#cb703-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red_p)</span>
<span id="cb703-2"><a href="pagerank-y-análisis-de-redes.html#cb703-2" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">scale</span>(<span class="fu">t</span>(<span class="fu">as.matrix</span>(A)), <span class="at">center=</span><span class="cn">FALSE</span>, <span class="at">scale=</span><span class="fu">apply</span>(A,<span class="dv">1</span>,sum)))</span>
<span id="cb703-3"><a href="pagerank-y-análisis-de-redes.html#cb703-3" aria-hidden="true" tabindex="-1"></a>M</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    0    1    0
## [2,]    0    0    1
## [3,]    1    0    0
## attr(,&quot;scaled:scale&quot;)
## [1] 1 1 1</code></pre>
<p>Y notamos que si comenzamos en el estado uno, la probabilidad de estar en cada estado al tiempo <span class="math inline">\(2\)</span> es</p>
<div class="sourceCode" id="cb705"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb705-1"><a href="pagerank-y-análisis-de-redes.html#cb705-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(M) <span class="sc">%*%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span></code></pre></div>
<pre><code>##      [,1]
## [1,]    0
## [2,]    1
## [3,]    0</code></pre>
<p>En el tiempo <span class="math inline">\(3\)</span>:</p>
<div class="sourceCode" id="cb707"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb707-1"><a href="pagerank-y-análisis-de-redes.html#cb707-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(M) <span class="sc">%*%</span> <span class="fu">t</span>(M) <span class="sc">%*%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span></code></pre></div>
<pre><code>##      [,1]
## [1,]    0
## [2,]    0
## [3,]    1</code></pre>
<p>En el tiempo <span class="math inline">\(4\)</span>:</p>
<div class="sourceCode" id="cb709"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb709-1"><a href="pagerank-y-análisis-de-redes.html#cb709-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t</span>(M) <span class="sc">%*%</span> <span class="fu">t</span>(M) <span class="sc">%*%</span> <span class="fu">t</span>(M) <span class="sc">%*%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span></code></pre></div>
<pre><code>##      [,1]
## [1,]    1
## [2,]    0
## [3,]    0</code></pre>
<p>y así sucesivamente, de manera que las probabilidades de visita a cada nodo dependen
siempre fuertemente del tiempo. La solución a nuestra pregunta de dónde
estará el navegador aleatorio al tiempo <span class="math inline">\(t\)</span> no es tan simple de
formular.</p>
<p>En este ejemplo, vemos que el problema son estructuras periódicas
en la red del navegador aleatorio. Veremos ahora cómo lidiar
con este problema.</p>
</div>
</div>
<div id="matriz-de-transición-a-k-pasos" class="section level3" number="7.6.7">
<h3><span class="header-section-number">7.6.7</span> Matriz de transición a <span class="math inline">\(k\)</span> pasos</h3>
<p>Recordamos que la matriz <span class="math inline">\((P)^k\)</span> da las probabilidades de transición
a <span class="math inline">\(k\)</span> pasos.</p>
<p>Por ejemplo, para <span class="math inline">\(k=2\)</span> tenemos la probabiildad de pasar de <span class="math inline">\(i\)</span> a <span class="math inline">\(j\)</span> en dos pasos es igual a (probabilidad total):</p>
<p><span class="math display">\[P(X_3=j|X_1=i) =\sum_k P(X_3=j|X_2=k, X_1=i) P(X_2=k|X_1=i)\]</span></p>
<p>Por la propiedad de Markov, podemos simplificar</p>
<p><span class="math display">\[P(X_3=j|X_1=i) =\sum_k P(X_3=j|X_2=k) P(X_2=k|X_1=i)\]</span></p>
<p>y si sustituimos <span class="math inline">\(P\)</span></p>
<p><span class="math display">\[P(X_3=j|X_1=i) =\sum_k P_{i,k} P_{k,j}. \]</span></p>
<p>Como el lado derecho es la componente <span class="math inline">\(i,j\)</span> de <span class="math inline">\(P^2\)</span>, tenemos que
<span class="math inline">\(P^2\)</span> da las probabilidades de transición en <span class="math inline">\(2\)</span> pasos.</p>
<p>Como ejercicio, calcula e interpreta <span class="math inline">\(P^2\)</span> para el ejemplo anterior.</p>

<div class="resumen">
<p><strong>Cadenas aperiódicas</strong></p>
Decimos que <span class="math inline">\(P\)</span> irreducible es aperiódica cuando
<span class="math inline">\(P^{k_0}&gt;0\)</span> para alguna <span class="math inline">\(k_0\)</span> suficientemente grande.
</div>
<p>Nótese que en el ejemplo anterior <span class="math inline">\(P\)</span> no es aperiódica. Con esta condición (no importa en qué estado estamos al tiempo <span class="math inline">\(k_0\)</span> el navegador puede estar en cualquier estado), podemos dar una respuesta más simple a la pregunta acerca de las probabilidades de largo plazo de la cadena:</p>

<div class="resumen">
<p><strong>Distribución a largo plazo</strong></p>
Si <span class="math inline">\(P\)</span> es una matriz irreducible y aperiódica, y <span class="math inline">\(\pi\)</span> es su distribución de equilibrio, entonces
<span class="math display">\[\lim_{n\to \infty} P(X_n=i) = \pi_i,\]</span>
independientemente de la distribución o nodo inicial.
</div>
<p>De esta forma tenemos que:</p>
<p>Sea <span class="math inline">\(v\)</span> una distribución inicial sobre los estados (cualquiera). Entonces,
si <span class="math inline">\(P\)</span> es irreducible y aperiódica,
<span class="math display">\[(P^n)^t v \to \pi\]</span>
cuando <span class="math inline">\(n\to \infty\)</span>.</p>
<p>Lo cual nos da el algoritmo básico para encontrar la importancia de Pagerank dada por la distribución de equilibrio:</p>

<div class="resumen">
<p><strong>Método de potencias para pagerank simple</strong></p>
Tomamos <span class="math inline">\(v\)</span> una distribución arbitraria (por ejemplo equidistribuida sobre los estados). Ponemos <span class="math inline">\(v_1=v\)</span> e iteramos
<span class="math display">\[v_{n+1} = M^t v_{n}\]</span>
hasta que <span class="math inline">\(||v_{n+1} -v_{n}||&lt;\epsilon.\)</span>
</div>
<p>Veremos que este algoritmo simple es escalable a problemas muy grandes, pues
sólo involucra multiplicar por una matriz que típicamente es rala.</p>
</div>
<div id="pagerank-teletransportaciónperturbación-de-la-matriz-m" class="section level3" number="7.6.8">
<h3><span class="header-section-number">7.6.8</span> Pagerank: teletransportación/perturbación de la matriz <span class="math inline">\(M\)</span></h3>
<p>Para que funcione este algoritmo, como vimos antes, tenemos
que lidiar con los problemas que vimos arriba (spider traps, callejones sin salidas, falta de conexidad, periodicidad).</p>
<p>La solución es relativamente simple: fijamos una <span class="math inline">\(\alpha\)</span> cercana a uno. A cada tiempo:</p>
<ul>
<li>Con probabilidad <span class="math inline">\(\alpha\)</span>, el navegador escoge alguno de las ligas de salida y brinca (como en el proceso original),</li>
<li>Sin embargo, con probabilidad <span class="math inline">\(1-\alpha\)</span>, el navegador se teletransporta
a un nodo escogido al azar (equiprobable), de <strong>todos</strong> los nodos posibles.</li>
<li>Si el navegador está en un callejón sin salida, siempre se teletransporta como en el inciso anterior.</li>
</ul>
<p>Esta alteración del proceso elimina spider traps, callejones sin salidas, disconexiones y periodicidad.</p>
<p>Ahora construimos la matriz <span class="math inline">\(M_1\)</span> de este proceso. Sea <span class="math inline">\(M\)</span> la matriz original, que suponemos por el momento no tiene callejones sin salida.</p>
<p>¿Cómo se ven las nuevas probabildades de transición? Si <span class="math inline">\(i,j\)</span> son nodos, <span class="math inline">\(n\)</span> es el número total de nodos, tenemos simplemente (si <span class="math inline">\(i\)</span> no es spider-trap):</p>
<p><span class="math display">\[(M_1)_{i,j} = \alpha M_{ij} + (1-\alpha)\frac{1}{n}\]</span></p>
<p>Esto es por probabilidad total: la probabilidad de ir de <span class="math inline">\(i\)</span> a <span class="math inline">\(j\)</span> <strong>dada</strong> teletransportación es <span class="math inline">\(1/n\)</span>, y la probabilidad de ir de <span class="math inline">\(i\)</span> a <span class="math inline">\(j\)</span> <strong>dado</strong> que no hubo teletransportación es <span class="math inline">\(M_{ij}\)</span> (que puede ser cero). La probabilidad total se calcula promediando estas dos probabilidades según la probabilidad de teletransportación o no.</p>
<p>Si <span class="math inline">\(i\)</span> es un spider-trap, entonces ponemos simplemente
<span class="math display">\[(M_1)_{i,j} = 1/n\]</span></p>
<ul>
<li>Idea: La matriz <span class="math inline">\(M_1\)</span> estocástica es positiva, de modo que automáticamente
es irreducible y aperiódica.</li>
</ul>
<p>Tomando <span class="math inline">\(\alpha=0.85\)</span> obtenemos por ejemplo para nuestra matriz <span class="math inline">\(M\)</span> anterior:</p>
<div class="sourceCode" id="cb711"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb711-1"><a href="pagerank-y-análisis-de-redes.html#cb711-1" aria-hidden="true" tabindex="-1"></a>red.p <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">4</span>))</span>
<span id="cb711-2"><a href="pagerank-y-análisis-de-redes.html#cb711-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)); <span class="fu">plot</span>(red.p, <span class="at">vertex.size=</span><span class="dv">30</span>, <span class="at">edge.curved=</span>T,<span class="at">edge.arrow.size=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="06-pagerank_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
<div class="sourceCode" id="cb712"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb712-1"><a href="pagerank-y-análisis-de-redes.html#cb712-1" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">get.adjacency</span>(red.p)</span>
<span id="cb712-2"><a href="pagerank-y-análisis-de-redes.html#cb712-2" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">scale</span>(<span class="fu">t</span>(<span class="fu">as.matrix</span>(A)), <span class="at">center=</span><span class="cn">FALSE</span>, <span class="at">scale=</span><span class="fu">apply</span>(A,<span class="dv">1</span>,sum)))</span>
<span id="cb712-3"><a href="pagerank-y-análisis-de-redes.html#cb712-3" aria-hidden="true" tabindex="-1"></a>unos <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="fu">nrow</span>(M))</span>
<span id="cb712-4"><a href="pagerank-y-análisis-de-redes.html#cb712-4" aria-hidden="true" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="fl">0.85</span></span>
<span id="cb712-5"><a href="pagerank-y-análisis-de-redes.html#cb712-5" aria-hidden="true" tabindex="-1"></a>M<span class="fl">.1</span> <span class="ot">&lt;-</span> alpha<span class="sc">*</span>M <span class="sc">+</span> (<span class="dv">1</span><span class="sc">-</span>alpha)<span class="sc">*</span>unos<span class="sc">%*%</span><span class="fu">t</span>(unos)<span class="sc">/</span><span class="fu">nrow</span>(M)</span>
<span id="cb712-6"><a href="pagerank-y-análisis-de-redes.html#cb712-6" aria-hidden="true" tabindex="-1"></a>M<span class="fl">.1</span></span></code></pre></div>
<pre><code>##       [,1]  [,2] [,3] [,4] [,5]
## [1,] 0.030 0.880 0.03 0.03 0.03
## [2,] 0.030 0.030 0.88 0.03 0.03
## [3,] 0.455 0.455 0.03 0.03 0.03
## [4,] 0.030 0.030 0.03 0.03 0.88
## [5,] 0.030 0.030 0.03 0.88 0.03
## attr(,&quot;scaled:scale&quot;)
## [1] 1 2 2 1 1</code></pre>
<div class="sourceCode" id="cb714"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb714-1"><a href="pagerank-y-análisis-de-redes.html#cb714-1" aria-hidden="true" tabindex="-1"></a>sol <span class="ot">&lt;-</span> <span class="fu">eigen</span>(<span class="fu">t</span>(M<span class="fl">.1</span>))</span>
<span id="cb714-2"><a href="pagerank-y-análisis-de-redes.html#cb714-2" aria-hidden="true" tabindex="-1"></a>sol<span class="sc">$</span>values</span></code></pre></div>
<pre><code>## [1]  1.000+0.000i -0.850+0.000i  0.850+0.000i -0.425+0.425i -0.425-0.425i</code></pre>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="pagerank-y-análisis-de-redes.html#cb716-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.numeric</span>(sol<span class="sc">$</span>vectors[,<span class="dv">1</span>])</span></code></pre></div>
<pre><code>## [1] 0.2828726 0.5233143 0.5106595 0.4389488 0.4389488</code></pre>
<div id="ejercicio-10" class="section level4 unnumbered">
<h4>Ejercicio</h4>
<p>Verifica que la matriz <span class="math inline">\(M_1\)</span> construida arriba es en realidad una matriz estocástica.</p>
<hr />
<p>No es buena idea preprocesar desde el principio la matriz <span class="math inline">\(M\)</span> para evitar estos casos (la matriz <span class="math inline">\(M\)</span> es típicamente rala, pues hay relativamente pocas ligas en cada página comparado con el total de nodos, y no queremos llenar los renglones igual a cero con
una cantidad fija). En lugar de eso, podemos hacer los siguiente:</p>
<p>Supongamos entonces queremos calcular <span class="math inline">\(x&#39; = M_1 x\)</span>, tomando en cuenta callejones sin salida. Podemos hacer, para <span class="math inline">\(x\)</span> distribución inicial:</p>
<ul>
<li><p>Calcular <span class="math inline">\(y = \alpha M^t x\)</span> (operación con matriz rala).</p></li>
<li><p>Nótese que los renglones de <span class="math inline">\(M\)</span> que son iguales a cero deben ser sustituidos por <span class="math inline">\(1/N\)</span> (callejones sin salida). Esto
implica que necesitamos sumar la misma cantidad a todas las entradas de <span class="math inline">\(y\)</span>:
<span class="math display">\[\frac{1}{N}\sum_{j\,es\, callejon} x_j\]</span>.</p></li>
<li><p>Por otra parte, para los que no son callejones, tenemos que sumar la cantidad fija
<span class="math display">\[(1-\alpha)\frac{1}{N}\sum_{j\, no\, es\, callejon} x_j\]</span></p></li>
<li><p>En cualquier caso, a todas las entradas se les suma una cantidad fija
<span class="math display">\[\frac{1}{N}\sum_{j\,es\, callejon} x_j + (1-\alpha)\frac{1}{N}\sum_{j\, no\, es\, callejon} x_j,\]</span>
y las componentes del vector resultante deben sumar uno.</p></li>
<li><p>La estrategia de cálculo es entonces: una vez que tenemos <span class="math inline">\(y\)</span>, simplemente ajustamos <span class="math inline">\(x= y + (1-S)/N\)</span>, donde
<span class="math inline">\(S=\sum_i y_i\)</span>, es decir: sumamos una cantidad fija para asegurar que suman uno las componentes de <span class="math inline">\(x\)</span>.</p></li>
</ul>
</div>
</div>
<div id="pagerank-para-buscador" class="section level3" number="7.6.9">
<h3><span class="header-section-number">7.6.9</span> Pagerank para buscador</h3>
<ul>
<li>Usamos índice invertido (términos a documentos) para escoger las páginas que son relevantes al query.</li>
<li>Regresamos los resultados ordenados por el PageRank.</li>
</ul>
<p>Consideramos las páginas de un solo sitio (universidad de Hollings):</p>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="pagerank-y-análisis-de-redes.html#cb718-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Matrix)</span>
<span id="cb718-2"><a href="pagerank-y-análisis-de-redes.html#cb718-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb718-3"><a href="pagerank-y-análisis-de-redes.html#cb718-3" aria-hidden="true" tabindex="-1"></a>tab_1 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&#39;../datos/data_hollings/hollins.txt&#39;</span>)</span>
<span id="cb718-4"><a href="pagerank-y-análisis-de-redes.html#cb718-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(tab_1, <span class="at">file=</span><span class="st">&#39;../datos/data_hollings/ejemplo_red_hollings.csv&#39;</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb718-5"><a href="pagerank-y-análisis-de-redes.html#cb718-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tab_1)</span></code></pre></div>
<pre><code>##   V1 V2
## 1  1  2
## 2  8  2
## 3 16  2
## 4 18  2
## 5 20  2
## 6 23  2</code></pre>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="pagerank-y-análisis-de-redes.html#cb720-1" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> tab_1<span class="sc">$</span>V1</span>
<span id="cb720-2"><a href="pagerank-y-análisis-de-redes.html#cb720-2" aria-hidden="true" tabindex="-1"></a>j <span class="ot">&lt;-</span> tab_1<span class="sc">$</span>V2</span>
<span id="cb720-3"><a href="pagerank-y-análisis-de-redes.html#cb720-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span></code></pre></div>
<p>Normalizamos y usamos estructura rala:</p>
<div class="sourceCode" id="cb721"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb721-1"><a href="pagerank-y-análisis-de-redes.html#cb721-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">i=</span>i, <span class="at">j=</span>j, <span class="at">x=</span>x)</span>
<span id="cb721-2"><a href="pagerank-y-análisis-de-redes.html#cb721-2" aria-hidden="true" tabindex="-1"></a>mat_norm <span class="ot">&lt;-</span> mat <span class="sc">|&gt;</span> <span class="fu">group_by</span>(i) <span class="sc">|&gt;</span></span>
<span id="cb721-3"><a href="pagerank-y-análisis-de-redes.html#cb721-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> x <span class="sc">/</span> <span class="fu">sum</span>(x))</span>
<span id="cb721-4"><a href="pagerank-y-análisis-de-redes.html#cb721-4" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span><span class="fu">sparseMatrix</span>(<span class="at">i =</span> mat_norm<span class="sc">$</span>i,</span>
<span id="cb721-5"><a href="pagerank-y-análisis-de-redes.html#cb721-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">j =</span> mat_norm<span class="sc">$</span>j,</span>
<span id="cb721-6"><a href="pagerank-y-análisis-de-redes.html#cb721-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">x =</span> mat_norm<span class="sc">$</span>p, </span>
<span id="cb721-7"><a href="pagerank-y-análisis-de-redes.html#cb721-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">dims =</span> <span class="fu">c</span>(<span class="dv">6012</span>,<span class="dv">6012</span>))</span>
<span id="cb721-8"><a href="pagerank-y-análisis-de-redes.html#cb721-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(M)</span></code></pre></div>
<pre><code>## [1] 6012 6012</code></pre>
<div class="sourceCode" id="cb723"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb723-1"><a href="pagerank-y-análisis-de-redes.html#cb723-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(M<span class="sc">&gt;</span><span class="dv">0</span>)<span class="sc">/</span><span class="dv">6012</span><span class="sc">^</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 0.0006605496</code></pre>
<p>Nótese que hacer los cálculos con la matriz rala es más eficiente:</p>
<div class="sourceCode" id="cb725"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb725-1"><a href="pagerank-y-análisis-de-redes.html#cb725-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb725-2"><a href="pagerank-y-análisis-de-redes.html#cb725-2" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">6012</span>)<span class="sc">/</span><span class="dv">6012</span></span>
<span id="cb725-3"><a href="pagerank-y-análisis-de-redes.html#cb725-3" aria-hidden="true" tabindex="-1"></a>M_t <span class="ot">&lt;-</span> <span class="fu">t</span>(M)</span>
<span id="cb725-4"><a href="pagerank-y-análisis-de-redes.html#cb725-4" aria-hidden="true" tabindex="-1"></a><span class="fu">microbenchmark</span>(r_1 <span class="ot">&lt;-</span> M_t <span class="sc">%*%</span> r, <span class="at">times=</span><span class="dv">10</span>, <span class="at">unit =</span> <span class="st">&#39;ms&#39;</span>)</span></code></pre></div>
<pre><code>## Unit: milliseconds
##              expr    min     lq    mean  median     uq    max neval
##  r_1 &lt;- M_t %*% r 0.1464 0.1482 0.40338 0.14965 0.1541 2.6555    10</code></pre>
<div class="sourceCode" id="cb727"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb727-1"><a href="pagerank-y-análisis-de-redes.html#cb727-1" aria-hidden="true" tabindex="-1"></a>MM <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(M_t)</span>
<span id="cb727-2"><a href="pagerank-y-análisis-de-redes.html#cb727-2" aria-hidden="true" tabindex="-1"></a><span class="fu">microbenchmark</span>(r_1 <span class="ot">&lt;-</span> MM <span class="sc">%*%</span> r, <span class="at">times=</span><span class="dv">10</span>, <span class="at">unit =</span> <span class="st">&#39;ms&#39;</span>)</span></code></pre></div>
<pre><code>## Unit: milliseconds
##             expr     min      lq    mean   median      uq     max neval
##  r_1 &lt;- MM %*% r 35.8456 35.9194 36.1091 35.93825 35.9632 37.5109    10</code></pre>
<p>Así que podemos hacer nuestro algoritmo:</p>
<div class="sourceCode" id="cb729"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb729-1"><a href="pagerank-y-análisis-de-redes.html#cb729-1" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">6012</span>)<span class="sc">/</span><span class="dv">6012</span></span>
<span id="cb729-2"><a href="pagerank-y-análisis-de-redes.html#cb729-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb729-3"><a href="pagerank-y-análisis-de-redes.html#cb729-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb729-4"><a href="pagerank-y-análisis-de-redes.html#cb729-4" aria-hidden="true" tabindex="-1"></a>  q <span class="ot">&lt;-</span> <span class="fl">0.85</span> <span class="sc">*</span> (M_t <span class="sc">%*%</span> r)</span>
<span id="cb729-5"><a href="pagerank-y-análisis-de-redes.html#cb729-5" aria-hidden="true" tabindex="-1"></a>  suma_q <span class="ot">&lt;-</span> <span class="fu">sum</span>(q)</span>
<span id="cb729-6"><a href="pagerank-y-análisis-de-redes.html#cb729-6" aria-hidden="true" tabindex="-1"></a>  r_nuevo <span class="ot">&lt;-</span> q <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">-</span> suma_q) <span class="sc">/</span> <span class="dv">6012</span></span>
<span id="cb729-7"><a href="pagerank-y-análisis-de-redes.html#cb729-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">sum</span>(<span class="fu">abs</span>(r_nuevo <span class="sc">-</span> r)))</span>
<span id="cb729-8"><a href="pagerank-y-análisis-de-redes.html#cb729-8" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> r_nuevo</span>
<span id="cb729-9"><a href="pagerank-y-análisis-de-redes.html#cb729-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] 0.4907346
## [1] 0.2554216
## [1] 0.1399171
## [1] 0.08249344
## [1] 0.05276466
## [1] 0.03433384
## [1] 0.02356974
## [1] 0.01614466
## [1] 0.01175786
## [1] 0.008488335</code></pre>
<div class="sourceCode" id="cb731"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb731-1"><a href="pagerank-y-análisis-de-redes.html#cb731-1" aria-hidden="true" tabindex="-1"></a>nombres.pag <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&#39;../datos/data_hollings/nombres_paginas.txt&#39;</span>)</span>
<span id="cb731-2"><a href="pagerank-y-análisis-de-redes.html#cb731-2" aria-hidden="true" tabindex="-1"></a>nombres.pag<span class="sc">$</span>pagerank <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(r)</span>
<span id="cb731-3"><a href="pagerank-y-análisis-de-redes.html#cb731-3" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(nombres.pag, <span class="fu">desc</span>(pagerank))  <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>##     V1                                                              V2
## 1    2                                         http://www.hollins.edu/
## 2   37               http://www.hollins.edu/admissions/visit/visit.htm
## 3   38                     http://www.hollins.edu/about/about_tour.htm
## 4   61                         http://www.hollins.edu/htdig/index.html
## 5   52 http://www.hollins.edu/admissions/info-request/info-request.cfm
## 6   43               http://www.hollins.edu/admissions/apply/apply.htm
## 7  425 http://www.hollins.edu/academics/library/resources/web_linx.htm
## 8   27                http://www.hollins.edu/admissions/admissions.htm
## 9   28                  http://www.hollins.edu/academics/academics.htm
## 10  29                        http://www.hollins.edu/grad/coedgrad.htm
##       pagerank
## 1  0.020342191
## 2  0.009487376
## 3  0.008793044
## 4  0.008237781
## 5  0.008202176
## 6  0.007310231
## 7  0.006709038
## 8  0.006121904
## 9  0.005703552
## 10 0.004470490</code></pre>
<div class="sourceCode" id="cb733"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb733-1"><a href="pagerank-y-análisis-de-redes.html#cb733-1" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(nombres.pag[,c(&#39;Label&#39;),drop=FALSE], file=&#39;pagerank_hollings.csv&#39;, row.names=FALSE, col.names=FALSE)</span></span>
<span id="cb733-2"><a href="pagerank-y-análisis-de-redes.html#cb733-2" aria-hidden="true" tabindex="-1"></a>ordenada <span class="ot">&lt;-</span> <span class="fu">arrange</span>(nombres.pag, <span class="fu">desc</span>(pagerank))</span></code></pre></div>
<p>Hacemos una búsqueda (simple, basada solamente en el nombre de la URL: esto normalmente
se haría con un índice invertido sobre el contenido):</p>
<div class="sourceCode" id="cb734"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb734-1"><a href="pagerank-y-análisis-de-redes.html#cb734-1" aria-hidden="true" tabindex="-1"></a>query <span class="ot">&lt;-</span> <span class="st">&#39;admission&#39;</span></span>
<span id="cb734-2"><a href="pagerank-y-análisis-de-redes.html#cb734-2" aria-hidden="true" tabindex="-1"></a>ordenada <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(V2, <span class="st">&#39;admission&#39;</span>)) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>##   V1                                                              V2
## 1 37               http://www.hollins.edu/admissions/visit/visit.htm
## 2 52 http://www.hollins.edu/admissions/info-request/info-request.cfm
## 3 43               http://www.hollins.edu/admissions/apply/apply.htm
## 4 27                http://www.hollins.edu/admissions/admissions.htm
## 5 81          http://www.hollins.edu/admissions/financial/finaid.htm
## 6 80         http://www.hollins.edu/admissions/ugradadm/ugradadm.htm
##      pagerank
## 1 0.009487376
## 2 0.008202176
## 3 0.007310231
## 4 0.006121904
## 5 0.003147287
## 6 0.002187616</code></pre>
<div class="sourceCode" id="cb736"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb736-1"><a href="pagerank-y-análisis-de-redes.html#cb736-1" aria-hidden="true" tabindex="-1"></a>ordenada <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(V2, <span class="st">&#39;admission&#39;</span>)) <span class="sc">|&gt;</span> <span class="fu">tail</span>()</span></code></pre></div>
<pre><code>##      V1
## 58 1290
## 59 1442
## 60 1028
## 61 1854
## 62 1590
## 63 1591
##                                                                          V2
## 58      http://www.hollins.edu/admissions/ugradadm/horizon/apply/apply1.cfm
## 59                       http://www.hollins.edu/admissions/apply/login2.cfm
## 60                   http://www.hollins.edu/admissions/scholarship/work.htm
## 61 http://www.hollins.edu/admissions/ugradadm/horizon/apply/app_review2.cfm
## 62  http://www.hollins.edu/admissions/ugradadm/horizon/apply/app_review.cfm
## 63     http://www.hollins.edu/admissions/ugradadm/horizon/apply/apply1a.cfm
##        pagerank
## 58 6.680171e-05
## 59 6.569320e-05
## 60 6.452762e-05
## 61 6.236121e-05
## 62 6.193540e-05
## 63 6.193540e-05</code></pre>
<div class="sourceCode" id="cb738"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb738-1"><a href="pagerank-y-análisis-de-redes.html#cb738-1" aria-hidden="true" tabindex="-1"></a>query <span class="ot">&lt;-</span> <span class="st">&#39;hollins&#39;</span></span>
<span id="cb738-2"><a href="pagerank-y-análisis-de-redes.html#cb738-2" aria-hidden="true" tabindex="-1"></a>ordenada <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(V2, query)) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>##   V1                                                              V2
## 1  2                                         http://www.hollins.edu/
## 2 37               http://www.hollins.edu/admissions/visit/visit.htm
## 3 38                     http://www.hollins.edu/about/about_tour.htm
## 4 61                         http://www.hollins.edu/htdig/index.html
## 5 52 http://www.hollins.edu/admissions/info-request/info-request.cfm
## 6 43               http://www.hollins.edu/admissions/apply/apply.htm
##      pagerank
## 1 0.020342191
## 2 0.009487376
## 3 0.008793044
## 4 0.008237781
## 5 0.008202176
## 6 0.007310231</code></pre>
<div class="sourceCode" id="cb740"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb740-1"><a href="pagerank-y-análisis-de-redes.html#cb740-1" aria-hidden="true" tabindex="-1"></a>query <span class="ot">&lt;-</span> <span class="st">&#39;student&#39;</span></span>
<span id="cb740-2"><a href="pagerank-y-análisis-de-redes.html#cb740-2" aria-hidden="true" tabindex="-1"></a>ordenada <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(V2, query)) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>##      V1
## 1    82
## 2    26
## 3  5955
## 4  6005
## 5    18
## 6  6004
## 7  5877
## 8  5956
## 9   467
## 10  468
##                                                                                                                                          V2
## 1                                                                          http://www.hollins.edu/admissions/ugradadm/students/students.htm
## 2                                                                                                 http://www.hollins.edu/students/index.htm
## 3                                                       http://www1.hollins.edu/Docs/CampusLife/StudentAct/studentorgs/Habitat/moreInfo.htm
## 4                                                       http://www1.hollins.edu/Docs/CampusLife/StudentAct/studentorgs/Habitat/whatWeDo.htm
## 5                                                           http://www1.hollins.edu/Docs/CampusLife/StudentAct/studentorgs/SGA/default.html
## 6                                                   http://www1.hollins.edu/Docs/CampusLife/StudentAct/studentorgs/Habitat/homeBuilding.htm
## 7                                                             http://www1.hollins.edu/Docs/CampusLife/StudentAct/studentorgs/hhrc/index.htm
## 8                                                           http://www1.hollins.edu/Docs/CampusLife/StudentAct/studentorgs/hhrc/contact.htm
## 9  http://www1.hollins.edu/Docs/CampusLife/StudentAct/studentorgs/SGA/forms/SGA%20Short%20Term%20Scholarship%20Application%20for%202004.doc
## 10 http://www1.hollins.edu/Docs/CampusLife/StudentAct/studentorgs/SGA/forms/SGA%20Short%20Term%20Scholarship%20Application%20for%202004.pdf
##        pagerank
## 1  0.0012740467
## 2  0.0007685934
## 3  0.0004847083
## 4  0.0004338779
## 5  0.0004295892
## 6  0.0003905306
## 7  0.0003813615
## 8  0.0003796379
## 9  0.0002657994
## 10 0.0002657994</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dimensiones-latentes-para-recomendación.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="detección-de-comunidades.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/felipegonzalez/metodos-analiticos-mcd-2022/edit/master/notas/06-pagerank.Rmd",
"text": "Editar"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
